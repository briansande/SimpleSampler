ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 2
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"SampleLibrary.cpp"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text._ZN16MemoryDataSource5ftellEv,"axG",%progbits,_ZN16MemoryDataSource5ftellEv,comdat
  17              		.align	1
  18              		.p2align 2,,3
  19              		.weak	_ZN16MemoryDataSource5ftellEv
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv5-d16
  26              	_ZN16MemoryDataSource5ftellEv:
  27              	.LVL0:
  28              	.LFB1435:
  29              		.file 1 "b3ReadWavFile.h"
   1:b3ReadWavFile.h **** #ifndef B3_READ_WAV_FILE_H
   2:b3ReadWavFile.h **** #define B3_READ_WAV_FILE_H
   3:b3ReadWavFile.h **** 
   4:b3ReadWavFile.h **** #include <vector>
   5:b3ReadWavFile.h **** #include <stdio.h>
   6:b3ReadWavFile.h **** #include <string.h>
   7:b3ReadWavFile.h **** #include <assert.h>
   8:b3ReadWavFile.h **** 
   9:b3ReadWavFile.h **** #define B3_SEEK_CUR    11
  10:b3ReadWavFile.h **** #define B3_SEEK_END    12
  11:b3ReadWavFile.h **** #define B3_SEEK_SET    10
  12:b3ReadWavFile.h **** 
  13:b3ReadWavFile.h **** struct b3DataSource
  14:b3ReadWavFile.h **** {
  15:b3ReadWavFile.h **** 	virtual long  ftell() = 0;
  16:b3ReadWavFile.h **** 	
  17:b3ReadWavFile.h **** 	virtual size_t fread(void* _Buffer, size_t _ElementSize, size_t _ElementCount) = 0;
  18:b3ReadWavFile.h **** 
  19:b3ReadWavFile.h **** 	virtual int fseek(long  _Offset, int   _Origin) = 0;
  20:b3ReadWavFile.h **** };
  21:b3ReadWavFile.h **** 
  22:b3ReadWavFile.h **** struct FileDataSource : public b3DataSource
  23:b3ReadWavFile.h **** {
  24:b3ReadWavFile.h **** 	FileDataSource(const char* fileName)
  25:b3ReadWavFile.h **** 	{
  26:b3ReadWavFile.h **** 		m_fd = fopen(fileName, "rb");
  27:b3ReadWavFile.h **** 	}
  28:b3ReadWavFile.h **** 	virtual ~FileDataSource()
  29:b3ReadWavFile.h **** 	{
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 2


  30:b3ReadWavFile.h **** 		if (m_fd)
  31:b3ReadWavFile.h **** 			fclose(m_fd);
  32:b3ReadWavFile.h **** 	}
  33:b3ReadWavFile.h **** 	FILE* m_fd;
  34:b3ReadWavFile.h **** 
  35:b3ReadWavFile.h **** 	virtual long  ftell()
  36:b3ReadWavFile.h **** 	{
  37:b3ReadWavFile.h **** 		return ::ftell(m_fd);
  38:b3ReadWavFile.h **** 	}
  39:b3ReadWavFile.h **** 	virtual size_t fread(void* _Buffer, size_t _ElementSize, size_t _ElementCount)
  40:b3ReadWavFile.h **** 	{
  41:b3ReadWavFile.h **** 		return ::fread(_Buffer, _ElementSize, _ElementCount, m_fd);
  42:b3ReadWavFile.h **** 	}
  43:b3ReadWavFile.h **** 
  44:b3ReadWavFile.h **** 	virtual int fseek(long  _Offset, int   _OriginOrg)
  45:b3ReadWavFile.h **** 	{
  46:b3ReadWavFile.h **** 		int _Origin = 0;
  47:b3ReadWavFile.h **** 		switch (_OriginOrg)
  48:b3ReadWavFile.h **** 		{
  49:b3ReadWavFile.h **** 		case B3_SEEK_CUR:
  50:b3ReadWavFile.h **** 		{
  51:b3ReadWavFile.h **** 			_Origin = SEEK_CUR;
  52:b3ReadWavFile.h **** 			break;
  53:b3ReadWavFile.h **** 		}
  54:b3ReadWavFile.h **** 		case B3_SEEK_SET:
  55:b3ReadWavFile.h **** 		{
  56:b3ReadWavFile.h **** 			_Origin = SEEK_SET;
  57:b3ReadWavFile.h **** 			break;
  58:b3ReadWavFile.h **** 		}
  59:b3ReadWavFile.h **** 		default:
  60:b3ReadWavFile.h **** 		{
  61:b3ReadWavFile.h **** 		}
  62:b3ReadWavFile.h **** 		}
  63:b3ReadWavFile.h **** 		return ::fseek(m_fd, _Offset, _Origin);
  64:b3ReadWavFile.h **** 	}
  65:b3ReadWavFile.h **** };
  66:b3ReadWavFile.h **** 
  67:b3ReadWavFile.h **** struct MemoryDataSource : public b3DataSource
  68:b3ReadWavFile.h **** {
  69:b3ReadWavFile.h **** 
  70:b3ReadWavFile.h ****   MemoryDataSource()
  71:b3ReadWavFile.h ****   :m_data(),
  72:b3ReadWavFile.h ****   m_numBytes(0),
  73:b3ReadWavFile.h **** 	m_currentAddress(0)
  74:b3ReadWavFile.h ****   {
  75:b3ReadWavFile.h ****     
  76:b3ReadWavFile.h ****   }
  77:b3ReadWavFile.h **** 	MemoryDataSource(const char* data, int numBytes)
  78:b3ReadWavFile.h **** 		:m_data(data),
  79:b3ReadWavFile.h **** 		m_numBytes(numBytes),
  80:b3ReadWavFile.h **** 		m_currentAddress(0)
  81:b3ReadWavFile.h **** 	{
  82:b3ReadWavFile.h **** 	}
  83:b3ReadWavFile.h **** 
  84:b3ReadWavFile.h **** 	const char* m_data;
  85:b3ReadWavFile.h **** 	int m_numBytes;
  86:b3ReadWavFile.h **** 	int m_currentAddress;
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 3


  87:b3ReadWavFile.h **** 
  88:b3ReadWavFile.h **** 	virtual long  ftell()
  30              		.loc 1 88 16 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  89:b3ReadWavFile.h **** 	{
  90:b3ReadWavFile.h **** 		return m_currentAddress;
  35              		.loc 1 90 3 view .LVU1
  91:b3ReadWavFile.h **** 	}
  36              		.loc 1 91 2 is_stmt 0 view .LVU2
  37 0000 C068     		ldr	r0, [r0, #12]
  38              	.LVL1:
  39              		.loc 1 91 2 view .LVU3
  40 0002 7047     		bx	lr
  41              		.cfi_endproc
  42              	.LFE1435:
  44              		.section	.text._ZN16MemoryDataSource5freadEPvjj,"axG",%progbits,_ZN16MemoryDataSource5freadEPvjj,c
  45              		.align	1
  46              		.p2align 2,,3
  47              		.weak	_ZN16MemoryDataSource5freadEPvjj
  48              		.syntax unified
  49              		.thumb
  50              		.thumb_func
  51              		.fpu fpv5-d16
  53              	_ZN16MemoryDataSource5freadEPvjj:
  54              	.LVL2:
  55              	.LFB1436:
  92:b3ReadWavFile.h **** 
  93:b3ReadWavFile.h **** 	virtual size_t fread(void* _BufferOrg, size_t _ElementSize, size_t _ElementCount)
  56              		.loc 1 93 17 is_stmt 1 view -0
  57              		.cfi_startproc
  58              		@ args = 0, pretend = 0, frame = 0
  59              		@ frame_needed = 0, uses_anonymous_args = 0
  94:b3ReadWavFile.h **** 	{
  95:b3ReadWavFile.h **** 		char* _Buffer = (char*)_BufferOrg;
  60              		.loc 1 95 3 view .LVU5
  96:b3ReadWavFile.h **** 		int writeIndex = 0;
  61              		.loc 1 96 3 view .LVU6
  97:b3ReadWavFile.h **** 		int i = 0;
  62              		.loc 1 97 3 view .LVU7
  98:b3ReadWavFile.h **** 		for (i = 0; i < _ElementCount; i++)
  63              		.loc 1 98 3 view .LVU8
  64              	.LBB48:
  65              		.loc 1 98 17 view .LVU9
  66 0000 FBB1     		cbz	r3, .L17
  67              	.LBE48:
  93:b3ReadWavFile.h **** 	{
  68              		.loc 1 93 17 is_stmt 0 view .LVU10
  69 0002 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
  70              		.cfi_def_cfa_offset 24
  71              		.cfi_offset 4, -24
  72              		.cfi_offset 5, -20
  73              		.cfi_offset 6, -16
  74              		.cfi_offset 7, -12
  75              		.cfi_offset 8, -8
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 4


  76              		.cfi_offset 14, -4
  77              	.LBB50:
  78              		.loc 1 98 10 view .LVU11
  79 0006 0027     		movs	r7, #0
  80 0008 8846     		mov	r8, r1
  81              	.LBE50:
  96:b3ReadWavFile.h **** 		int i = 0;
  82              		.loc 1 96 7 view .LVU12
  83 000a BC46     		mov	ip, r7
  84              	.LVL3:
  85              	.L7:
  86              	.LBB51:
  87              	.LBB49:
  99:b3ReadWavFile.h **** 		{
 100:b3ReadWavFile.h **** 			for (int j = 0; j < _ElementSize; j++)
  88              		.loc 1 100 22 is_stmt 1 view .LVU13
  89 000c 9AB1     		cbz	r2, .L5
  90 000e 0CF1FF3E 		add	lr, ip, #-1
  91 0012 0CEB0206 		add	r6, ip, r2
  92 0016 C644     		add	lr, lr, r8
  93 0018 08E0     		b	.L6
  94              	.L20:
 101:b3ReadWavFile.h **** 			{
 102:b3ReadWavFile.h **** 				if (m_currentAddress < m_numBytes)
 103:b3ReadWavFile.h **** 				{
 104:b3ReadWavFile.h **** 					_Buffer[writeIndex++] = m_data[m_currentAddress++];
  95              		.loc 1 104 55 is_stmt 0 view .LVU14
  96 001a 4168     		ldr	r1, [r0, #4]
  97              		.loc 1 104 24 view .LVU15
  98 001c 0CF1010C 		add	ip, ip, #1
  99              	.LVL4:
 100              		.loc 1 104 53 view .LVU16
 101 0020 C560     		str	r5, [r0, #12]
 100:b3ReadWavFile.h **** 			{
 102              		.loc 1 100 22 view .LVU17
 103 0022 6645     		cmp	r6, ip
 104              		.loc 1 104 55 view .LVU18
 105 0024 0C5D     		ldrb	r4, [r1, r4]	@ zero_extendqisi2
 106              		.loc 1 104 28 view .LVU19
 107 0026 0EF8014F 		strb	r4, [lr, #1]!
 100:b3ReadWavFile.h **** 			{
 108              		.loc 1 100 4 is_stmt 1 view .LVU20
 100:b3ReadWavFile.h **** 			{
 109              		.loc 1 100 22 view .LVU21
 110 002a 04D0     		beq	.L5
 111              	.L6:
 102:b3ReadWavFile.h **** 				{
 112              		.loc 1 102 5 view .LVU22
 113              		.loc 1 104 6 view .LVU23
 102:b3ReadWavFile.h **** 				{
 114              		.loc 1 102 9 is_stmt 0 view .LVU24
 115 002c C468     		ldr	r4, [r0, #12]
 102:b3ReadWavFile.h **** 				{
 116              		.loc 1 102 5 view .LVU25
 117 002e 8168     		ldr	r1, [r0, #8]
 118              		.loc 1 104 53 view .LVU26
 119 0030 651C     		adds	r5, r4, #1
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 5


 102:b3ReadWavFile.h **** 				{
 120              		.loc 1 102 5 view .LVU27
 121 0032 8C42     		cmp	r4, r1
 122 0034 F1DB     		blt	.L20
 123              	.L5:
 102:b3ReadWavFile.h **** 				{
 124              		.loc 1 102 5 view .LVU28
 125              	.LBE49:
  98:b3ReadWavFile.h **** 		{
 126              		.loc 1 98 3 is_stmt 1 discriminator 2 view .LVU29
 127 0036 0137     		adds	r7, r7, #1
 128              	.LVL5:
  98:b3ReadWavFile.h **** 		{
 129              		.loc 1 98 17 discriminator 2 view .LVU30
 130 0038 9F42     		cmp	r7, r3
 131 003a E7D1     		bne	.L7
  98:b3ReadWavFile.h **** 		{
 132              		.loc 1 98 17 is_stmt 0 discriminator 2 view .LVU31
 133              	.LBE51:
 105:b3ReadWavFile.h **** 				}
 106:b3ReadWavFile.h **** 				else
 107:b3ReadWavFile.h **** 				{
 108:b3ReadWavFile.h **** 					break;
 109:b3ReadWavFile.h **** 					assert(0);
 110:b3ReadWavFile.h **** 				}
 111:b3ReadWavFile.h **** 			}
 112:b3ReadWavFile.h **** 		}
 113:b3ReadWavFile.h **** 		return i;
 134              		.loc 1 113 3 is_stmt 1 view .LVU32
 114:b3ReadWavFile.h **** 	}
 135              		.loc 1 114 2 is_stmt 0 view .LVU33
 136 003c 1846     		mov	r0, r3
 137              	.LVL6:
 138              		.loc 1 114 2 view .LVU34
 139 003e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 140              	.LVL7:
 141              	.L17:
 142              		.cfi_def_cfa_offset 0
 143              		.cfi_restore 4
 144              		.cfi_restore 5
 145              		.cfi_restore 6
 146              		.cfi_restore 7
 147              		.cfi_restore 8
 148              		.cfi_restore 14
 113:b3ReadWavFile.h **** 	}
 149              		.loc 1 113 3 is_stmt 1 view .LVU35
 150              		.loc 1 114 2 is_stmt 0 view .LVU36
 151 0042 1846     		mov	r0, r3
 152              	.LVL8:
 153              		.loc 1 114 2 view .LVU37
 154 0044 7047     		bx	lr
 155              		.cfi_endproc
 156              	.LFE1436:
 158 0046 00BF     		.section	.text._ZN16MemoryDataSource5fseekEli,"axG",%progbits,_ZN16MemoryDataSource5fseekEli,comda
 159              		.align	1
 160              		.p2align 2,,3
 161              		.weak	_ZN16MemoryDataSource5fseekEli
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 6


 162              		.syntax unified
 163              		.thumb
 164              		.thumb_func
 165              		.fpu fpv5-d16
 167              	_ZN16MemoryDataSource5fseekEli:
 168              	.LVL9:
 169              	.LFB1437:
 115:b3ReadWavFile.h **** 
 116:b3ReadWavFile.h **** 
 117:b3ReadWavFile.h **** 	virtual int fseek(long  _Offset, int   _Origin)
 170              		.loc 1 117 14 is_stmt 1 view -0
 171              		.cfi_startproc
 172              		@ args = 0, pretend = 0, frame = 0
 173              		@ frame_needed = 0, uses_anonymous_args = 0
 174              		@ link register save eliminated.
 118:b3ReadWavFile.h **** 	{
 119:b3ReadWavFile.h **** 		switch (_Origin)
 175              		.loc 1 119 3 view .LVU39
 176 0000 0A2A     		cmp	r2, #10
 177 0002 0BD0     		beq	.L22
 178 0004 0B2A     		cmp	r2, #11
 179 0006 0BD0     		beq	.L23
 120:b3ReadWavFile.h **** 		{
 121:b3ReadWavFile.h **** 			case B3_SEEK_CUR:
 122:b3ReadWavFile.h **** 			{
 123:b3ReadWavFile.h **** 				m_currentAddress += _Offset;
 124:b3ReadWavFile.h **** 				break;
 125:b3ReadWavFile.h **** 			}
 126:b3ReadWavFile.h **** 			case B3_SEEK_SET:
 127:b3ReadWavFile.h **** 			{
 128:b3ReadWavFile.h **** 				m_currentAddress = _Offset;
 129:b3ReadWavFile.h **** 				break;
 130:b3ReadWavFile.h **** 			}
 131:b3ReadWavFile.h **** 			default:
 132:b3ReadWavFile.h **** 			{
 133:b3ReadWavFile.h **** 			}
 134:b3ReadWavFile.h **** 		}
 135:b3ReadWavFile.h **** 		int result = -1;
 136:b3ReadWavFile.h **** 		if (m_currentAddress >= 0 && m_currentAddress < m_numBytes)
 180              		.loc 1 136 7 is_stmt 0 view .LVU40
 181 0008 C168     		ldr	r1, [r0, #12]
 182              	.LVL10:
 183              	.L24:
 131:b3ReadWavFile.h **** 			{
 184              		.loc 1 131 4 is_stmt 1 view .LVU41
 132:b3ReadWavFile.h **** 			}
 185              		.loc 1 132 4 view .LVU42
 135:b3ReadWavFile.h **** 		if (m_currentAddress >= 0 && m_currentAddress < m_numBytes)
 186              		.loc 1 135 3 view .LVU43
 187              		.loc 1 136 3 view .LVU44
 188 000a 0029     		cmp	r1, #0
 189 000c 0CDB     		blt	.L26
 190              		.loc 1 136 29 is_stmt 0 discriminator 1 view .LVU45
 191 000e 8068     		ldr	r0, [r0, #8]
 192              	.LVL11:
 193              		.loc 1 136 29 discriminator 1 view .LVU46
 194 0010 8842     		cmp	r0, r1
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 7


 195 0012 4FF0FF30 		mov	r0, #-1
 196 0016 C8BF     		it	gt
 197 0018 0020     		movgt	r0, #0
 198 001a 7047     		bx	lr
 199              	.LVL12:
 200              	.L22:
 126:b3ReadWavFile.h **** 			{
 201              		.loc 1 126 4 is_stmt 1 view .LVU47
 127:b3ReadWavFile.h **** 				m_currentAddress = _Offset;
 202              		.loc 1 127 4 view .LVU48
 128:b3ReadWavFile.h **** 				break;
 203              		.loc 1 128 5 view .LVU49
 128:b3ReadWavFile.h **** 				break;
 204              		.loc 1 128 22 is_stmt 0 view .LVU50
 205 001c C160     		str	r1, [r0, #12]
 129:b3ReadWavFile.h **** 			}
 206              		.loc 1 129 5 is_stmt 1 view .LVU51
 207 001e F4E7     		b	.L24
 208              	.L23:
 121:b3ReadWavFile.h **** 			{
 209              		.loc 1 121 4 view .LVU52
 122:b3ReadWavFile.h **** 				m_currentAddress += _Offset;
 210              		.loc 1 122 4 view .LVU53
 123:b3ReadWavFile.h **** 				break;
 211              		.loc 1 123 5 view .LVU54
 123:b3ReadWavFile.h **** 				break;
 212              		.loc 1 123 22 is_stmt 0 view .LVU55
 213 0020 C368     		ldr	r3, [r0, #12]
 214 0022 1944     		add	r1, r1, r3
 215              	.LVL13:
 123:b3ReadWavFile.h **** 				break;
 216              		.loc 1 123 22 view .LVU56
 217 0024 C160     		str	r1, [r0, #12]
 124:b3ReadWavFile.h **** 			}
 218              		.loc 1 124 5 is_stmt 1 view .LVU57
 219 0026 F0E7     		b	.L24
 220              	.LVL14:
 221              	.L26:
 135:b3ReadWavFile.h **** 		if (m_currentAddress >= 0 && m_currentAddress < m_numBytes)
 222              		.loc 1 135 7 is_stmt 0 view .LVU58
 223 0028 4FF0FF30 		mov	r0, #-1
 224              	.LVL15:
 137:b3ReadWavFile.h **** 			result = 0;
 138:b3ReadWavFile.h **** 		return result;
 225              		.loc 1 138 3 is_stmt 1 view .LVU59
 139:b3ReadWavFile.h **** 	}
 226              		.loc 1 139 2 is_stmt 0 view .LVU60
 227 002c 7047     		bx	lr
 228              		.cfi_endproc
 229              	.LFE1437:
 231 002e 00BF     		.section	.rodata._ZN13SampleLibrary14loadSampleDataEi.part.0.str1.4,"aMS",%progbits,1
 232              		.align	2
 233              	.LC0:
 234 0000 4C6F6164 		.ascii	"Loading: %s\000"
 234      696E673A 
 234      20257300 
 235              		.section	.text._ZN13SampleLibrary14loadSampleDataEi.part.0,"ax",%progbits
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 8


 236              		.align	1
 237              		.p2align 2,,3
 238              		.syntax unified
 239              		.thumb
 240              		.thumb_func
 241              		.fpu fpv5-d16
 243              	_ZN13SampleLibrary14loadSampleDataEi.part.0:
 244              	.LVL16:
 245              	.LFB4097:
 246              		.file 2 "SampleLibrary.cpp"
   1:SampleLibrary.cpp **** #include "SampleLibrary.h"
   2:SampleLibrary.cpp **** 
   3:SampleLibrary.cpp **** // External memory allocator from main.cpp
   4:SampleLibrary.cpp **** extern char custom_pool[];
   5:SampleLibrary.cpp **** extern size_t pool_index;
   6:SampleLibrary.cpp **** extern const size_t CUSTOM_POOL_SIZE;
   7:SampleLibrary.cpp **** 
   8:SampleLibrary.cpp **** // Helper function to allocate from SDRAM pool
   9:SampleLibrary.cpp **** extern void* custom_pool_allocate(size_t size);
  10:SampleLibrary.cpp **** 
  11:SampleLibrary.cpp **** SampleLibrary::SampleLibrary(daisy::SdmmcHandler& sdHandler, FatFSInterface& fileSystem, DisplayMan
  12:SampleLibrary.cpp ****     : sampleCount_(0),
  13:SampleLibrary.cpp ****       sdHandler_(sdHandler),
  14:SampleLibrary.cpp ****       fileSystem_(fileSystem),
  15:SampleLibrary.cpp ****       display_(display)
  16:SampleLibrary.cpp **** {
  17:SampleLibrary.cpp ****     // Initialize all samples as not loaded
  18:SampleLibrary.cpp ****     for (int i = 0; i < MAX_SAMPLES; i++) {
  19:SampleLibrary.cpp ****         samples_[i].loaded = false;
  20:SampleLibrary.cpp ****         samples_[i].audioDataLoaded = false;
  21:SampleLibrary.cpp ****     }
  22:SampleLibrary.cpp **** }
  23:SampleLibrary.cpp **** 
  24:SampleLibrary.cpp **** bool SampleLibrary::init() {
  25:SampleLibrary.cpp ****     // Show initialization message
  26:SampleLibrary.cpp ****     display_.showMessage("Initializing Library...", 500);
  27:SampleLibrary.cpp ****     
  28:SampleLibrary.cpp ****     // Filesystem is already mounted by SimpleSampler
  29:SampleLibrary.cpp ****     // (passed in via constructor reference)
  30:SampleLibrary.cpp ****     
  31:SampleLibrary.cpp ****     display_.showMessage("Opening dir...", 300);
  32:SampleLibrary.cpp ****     
  33:SampleLibrary.cpp ****     // Open the root directory
  34:SampleLibrary.cpp ****     DIR dir;
  35:SampleLibrary.cpp ****     if (f_opendir(&dir, "/") != FR_OK) {
  36:SampleLibrary.cpp ****         display_.showMessage("Dir open failed!", 1000);
  37:SampleLibrary.cpp ****         return false;  // Failed to open directory
  38:SampleLibrary.cpp ****     }
  39:SampleLibrary.cpp ****     
  40:SampleLibrary.cpp ****     display_.showMessage("Scanning files...", 300);
  41:SampleLibrary.cpp ****     
  42:SampleLibrary.cpp ****     // Scan for WAV files
  43:SampleLibrary.cpp ****     FILINFO fno;
  44:SampleLibrary.cpp ****     FRESULT result;
  45:SampleLibrary.cpp ****     int fileCount = 0;
  46:SampleLibrary.cpp ****     
  47:SampleLibrary.cpp ****     do {
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 9


  48:SampleLibrary.cpp ****         result = f_readdir(&dir, &fno);
  49:SampleLibrary.cpp ****         
  50:SampleLibrary.cpp ****         // Exit on error or end of directory
  51:SampleLibrary.cpp ****         if (result != FR_OK || fno.fname[0] == 0) {
  52:SampleLibrary.cpp ****             break;
  53:SampleLibrary.cpp ****         }
  54:SampleLibrary.cpp ****         
  55:SampleLibrary.cpp ****         fileCount++;
  56:SampleLibrary.cpp ****         
  57:SampleLibrary.cpp ****         // Skip directories and hidden files
  58:SampleLibrary.cpp ****         if (fno.fattrib & (AM_HID | AM_DIR)) {
  59:SampleLibrary.cpp ****             continue;
  60:SampleLibrary.cpp ****         }
  61:SampleLibrary.cpp ****         
  62:SampleLibrary.cpp ****         // Check if it's a .wav file
  63:SampleLibrary.cpp ****         const char* filename = fno.fname;
  64:SampleLibrary.cpp ****         if (strstr(filename, ".wav") == nullptr &&
  65:SampleLibrary.cpp ****             strstr(filename, ".WAV") == nullptr) {
  66:SampleLibrary.cpp ****             continue;  // Not a WAV file
  67:SampleLibrary.cpp ****         }
  68:SampleLibrary.cpp ****         
  69:SampleLibrary.cpp ****         // Debug: Show which file we're about to load
  70:SampleLibrary.cpp ****         char debugMsg[64];
  71:SampleLibrary.cpp ****         snprintf(debugMsg, sizeof(debugMsg), "Loading: %s", filename);
  72:SampleLibrary.cpp ****         display_.showMessage(debugMsg, 200);
  73:SampleLibrary.cpp ****         
  74:SampleLibrary.cpp ****         // Try to load this sample
  75:SampleLibrary.cpp ****         if (sampleCount_ < MAX_SAMPLES) {
  76:SampleLibrary.cpp ****             if (loadSampleInfo(filename, sampleCount_)) {
  77:SampleLibrary.cpp ****                 sampleCount_++;
  78:SampleLibrary.cpp ****                 display_.showMessage("Sample loaded", 150);
  79:SampleLibrary.cpp ****             } else {
  80:SampleLibrary.cpp ****                 display_.showMessage("Load failed!", 200);
  81:SampleLibrary.cpp ****             }
  82:SampleLibrary.cpp ****         } else {
  83:SampleLibrary.cpp ****             break;  // Reached maximum samples
  84:SampleLibrary.cpp ****         }
  85:SampleLibrary.cpp ****         
  86:SampleLibrary.cpp ****     } while (result == FR_OK);
  87:SampleLibrary.cpp ****     
  88:SampleLibrary.cpp ****     // Close directory
  89:SampleLibrary.cpp ****     display_.showMessage("Closing dir...", 300);
  90:SampleLibrary.cpp ****     f_closedir(&dir);
  91:SampleLibrary.cpp ****     
  92:SampleLibrary.cpp ****     // Show completion message with sample count
  93:SampleLibrary.cpp ****     char msg[64];
  94:SampleLibrary.cpp ****     snprintf(msg, sizeof(msg), "Loaded %d samples", sampleCount_);
  95:SampleLibrary.cpp ****     display_.showMessage(msg, 1000);
  96:SampleLibrary.cpp ****     
  97:SampleLibrary.cpp ****     return true;
  98:SampleLibrary.cpp **** }
  99:SampleLibrary.cpp **** 
 100:SampleLibrary.cpp **** bool SampleLibrary::loadSampleInfo(const char* filename, int index) {
 101:SampleLibrary.cpp ****     display_.showMessage("Opening file...", 150);
 102:SampleLibrary.cpp ****     
 103:SampleLibrary.cpp ****     // Open the file
 104:SampleLibrary.cpp ****     FIL file;
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 10


 105:SampleLibrary.cpp ****     if (f_open(&file, filename, FA_OPEN_EXISTING | FA_READ) != FR_OK) {
 106:SampleLibrary.cpp ****         display_.showMessage("Open failed!", 200);
 107:SampleLibrary.cpp ****         return false;  // Failed to open
 108:SampleLibrary.cpp ****     }
 109:SampleLibrary.cpp ****     
 110:SampleLibrary.cpp ****     display_.showMessage("Reading header...", 150);
 111:SampleLibrary.cpp ****     
 112:SampleLibrary.cpp ****     // Read only the WAV header (first 44 bytes)
 113:SampleLibrary.cpp ****     // WAV header structure: RIFF(4) + filesize(4) + WAVE(4) + fmt(4) +
 114:SampleLibrary.cpp ****     //                       fmt_size(4) + audio_fmt(2) + channels(2) +
 115:SampleLibrary.cpp ****     //                       sample_rate(4) + byte_rate(4) + block_align(2) +
 116:SampleLibrary.cpp ****     //                       bits_per_sample(2) + data(4) + data_size(4) = 44 bytes
 117:SampleLibrary.cpp ****     const int WAV_HEADER_SIZE = 44;
 118:SampleLibrary.cpp ****     char headerBuffer[WAV_HEADER_SIZE];
 119:SampleLibrary.cpp ****     
 120:SampleLibrary.cpp ****     UINT bytesRead;
 121:SampleLibrary.cpp ****     if (f_read(&file, headerBuffer, WAV_HEADER_SIZE, &bytesRead) != FR_OK || bytesRead != WAV_HEADE
 122:SampleLibrary.cpp ****         f_close(&file);
 123:SampleLibrary.cpp ****         display_.showMessage("Read failed!", 20000);
 124:SampleLibrary.cpp ****         return false;  // Failed to read header
 125:SampleLibrary.cpp ****     }
 126:SampleLibrary.cpp ****     
 127:SampleLibrary.cpp ****     display_.showMessage("Closing file...", 150);
 128:SampleLibrary.cpp ****     
 129:SampleLibrary.cpp ****     // Close the file - we only needed the header
 130:SampleLibrary.cpp ****     f_close(&file);
 131:SampleLibrary.cpp ****     
 132:SampleLibrary.cpp ****     display_.showMessage("Parsing WAV...", 150);
 133:SampleLibrary.cpp ****     
 134:SampleLibrary.cpp ****     // Store filename
 135:SampleLibrary.cpp ****     strncpy(samples_[index].name, filename, 31);
 136:SampleLibrary.cpp ****     samples_[index].name[31] = '\0';  // Ensure null-terminated
 137:SampleLibrary.cpp ****     
 138:SampleLibrary.cpp ****     // Create MemoryDataSource pointing to header buffer (temporary)
 139:SampleLibrary.cpp ****     samples_[index].data = MemoryDataSource(headerBuffer, WAV_HEADER_SIZE);
 140:SampleLibrary.cpp ****     
 141:SampleLibrary.cpp ****     // Parse WAV header using b3ReadWavFile
 142:SampleLibrary.cpp ****     if (!samples_[index].reader.getWavInfo(samples_[index].data)) {
 143:SampleLibrary.cpp ****         return false;  // Failed to parse WAV header
 144:SampleLibrary.cpp ****     }
 145:SampleLibrary.cpp ****     
 146:SampleLibrary.cpp ****     // Extract metadata from the reader
 147:SampleLibrary.cpp ****     samples_[index].numFrames = samples_[index].reader.getNumFrames();
 148:SampleLibrary.cpp ****     samples_[index].sampleRate = (int)samples_[index].reader.getFileDataRate();
 149:SampleLibrary.cpp ****     samples_[index].loaded = true;           // Metadata is loaded
 150:SampleLibrary.cpp ****     samples_[index].audioDataLoaded = false;  // Audio data NOT loaded yet
 151:SampleLibrary.cpp ****     
 152:SampleLibrary.cpp ****     // Determine channels and bits per sample from reader
 153:SampleLibrary.cpp ****     samples_[index].channels = 2;
 154:SampleLibrary.cpp ****     samples_[index].bitsPerSample = 16;
 155:SampleLibrary.cpp ****     
 156:SampleLibrary.cpp ****     return true;
 157:SampleLibrary.cpp **** }
 158:SampleLibrary.cpp **** 
 159:SampleLibrary.cpp **** bool SampleLibrary::loadSampleData(int index) {
 247              		.loc 2 159 6 is_stmt 1 view -0
 248              		.cfi_startproc
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 11


 249              		@ args = 0, pretend = 0, frame = 624
 250              		@ frame_needed = 0, uses_anonymous_args = 0
 251              		.loc 2 159 6 is_stmt 0 view .LVU62
 252 0000 C1EBC103 		rsb	r3, r1, r1, lsl #3
 160:SampleLibrary.cpp ****     // Check if already loaded
 161:SampleLibrary.cpp ****     if (samples_[index].audioDataLoaded) {
 162:SampleLibrary.cpp ****         return true;  // Already loaded
 163:SampleLibrary.cpp ****     }
 164:SampleLibrary.cpp ****     
 165:SampleLibrary.cpp ****     // Show loading message
 166:SampleLibrary.cpp ****     char msg[64];
 167:SampleLibrary.cpp ****     snprintf(msg, sizeof(msg), "Loading: %s", samples_[index].name);
 253              		.loc 2 167 13 view .LVU63
 254 0004 254A     		ldr	r2, .L38
 255 0006 4021     		movs	r1, #64
 256              	.LVL17:
 159:SampleLibrary.cpp ****     // Check if already loaded
 257              		.loc 2 159 6 view .LVU64
 258 0008 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 259              		.cfi_def_cfa_offset 28
 260              		.cfi_offset 4, -28
 261              		.cfi_offset 5, -24
 262              		.cfi_offset 6, -20
 263              		.cfi_offset 7, -16
 264              		.cfi_offset 8, -12
 265              		.cfi_offset 9, -8
 266              		.cfi_offset 14, -4
 267              		.loc 2 167 63 view .LVU65
 268 000c 00EB0316 		add	r6, r0, r3, lsl #4
 159:SampleLibrary.cpp ****     // Check if already loaded
 269              		.loc 2 159 6 view .LVU66
 270 0010 ADF51D7D 		sub	sp, sp, #628
 271              		.cfi_def_cfa_offset 656
 159:SampleLibrary.cpp ****     // Check if already loaded
 272              		.loc 2 159 6 view .LVU67
 273 0014 0746     		mov	r7, r0
 166:SampleLibrary.cpp ****     snprintf(msg, sizeof(msg), "Loading: %s", samples_[index].name);
 274              		.loc 2 166 5 is_stmt 1 view .LVU68
 275              		.loc 2 167 5 view .LVU69
 276 0016 1C01     		lsls	r4, r3, #4
 277              		.loc 2 167 13 is_stmt 0 view .LVU70
 278 0018 01A8     		add	r0, sp, #4
 279              	.LVL18:
 280              		.loc 2 167 13 view .LVU71
 281 001a 3346     		mov	r3, r6
 282 001c FFF7FEFF 		bl	snprintf
 283              	.LVL19:
 168:SampleLibrary.cpp ****     display_.showMessage(msg, 200);
 284              		.loc 2 168 5 is_stmt 1 view .LVU72
 285 0020 07F58053 		add	r3, r7, #4096
 286              		.loc 2 168 25 is_stmt 0 view .LVU73
 287 0024 01A9     		add	r1, sp, #4
 288 0026 C822     		movs	r2, #200
 289 0028 D3F80C0C 		ldr	r0, [r3, #3084]
 290 002c FFF7FEFF 		bl	_ZN14DisplayManager11showMessageEPKcm
 291              	.LVL20:
 169:SampleLibrary.cpp ****     
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 12


 170:SampleLibrary.cpp ****     // Open the file
 171:SampleLibrary.cpp ****     FIL file;
 292              		.loc 2 171 5 is_stmt 1 view .LVU74
 172:SampleLibrary.cpp ****     if (f_open(&file, samples_[index].name, FA_OPEN_EXISTING | FA_READ) != FR_OK) {
 293              		.loc 2 172 5 view .LVU75
 294              		.loc 2 172 15 is_stmt 0 view .LVU76
 295 0030 0122     		movs	r2, #1
 296 0032 3146     		mov	r1, r6
 297 0034 11A8     		add	r0, sp, #68
 298 0036 FFF7FEFF 		bl	f_open
 299              	.LVL21:
 300              		.loc 2 172 5 view .LVU77
 301 003a 20B1     		cbz	r0, .L28
 302              	.L37:
 173:SampleLibrary.cpp ****         return false;  // Failed to open
 174:SampleLibrary.cpp ****     }
 175:SampleLibrary.cpp ****     
 176:SampleLibrary.cpp ****     // Get file size
 177:SampleLibrary.cpp ****     UINT fileSize = f_size(&file);
 178:SampleLibrary.cpp ****     
 179:SampleLibrary.cpp ****     // Allocate memory from SDRAM pool
 180:SampleLibrary.cpp ****     char* buffer = (char*)custom_pool_allocate(fileSize);
 181:SampleLibrary.cpp ****     if (buffer == nullptr) {
 182:SampleLibrary.cpp ****         f_close(&file);
 183:SampleLibrary.cpp ****         return false;  // Out of memory
 303              		.loc 2 183 9 is_stmt 1 view .LVU78
 304              		.loc 2 183 16 is_stmt 0 view .LVU79
 305 003c 0020     		movs	r0, #0
 184:SampleLibrary.cpp ****     }
 185:SampleLibrary.cpp ****     
 186:SampleLibrary.cpp ****     // Read the entire file into memory
 187:SampleLibrary.cpp ****     UINT bytesRead;
 188:SampleLibrary.cpp ****     if (f_read(&file, buffer, fileSize, &bytesRead) != FR_OK) {
 189:SampleLibrary.cpp ****         f_close(&file);
 190:SampleLibrary.cpp ****         return false;  // Failed to read
 191:SampleLibrary.cpp ****     }
 192:SampleLibrary.cpp ****     
 193:SampleLibrary.cpp ****     // Close the file
 194:SampleLibrary.cpp ****     f_close(&file);
 195:SampleLibrary.cpp ****     
 196:SampleLibrary.cpp ****     // Update MemoryDataSource to point to full file buffer
 197:SampleLibrary.cpp ****     samples_[index].data = MemoryDataSource(buffer, fileSize);
 198:SampleLibrary.cpp ****     
 199:SampleLibrary.cpp ****     // Re-parse WAV header with the full buffer
 200:SampleLibrary.cpp ****     if (!samples_[index].reader.getWavInfo(samples_[index].data)) {
 201:SampleLibrary.cpp ****         return false;  // Failed to parse WAV
 202:SampleLibrary.cpp ****     }
 203:SampleLibrary.cpp ****     
 204:SampleLibrary.cpp ****     // Mark audio data as loaded
 205:SampleLibrary.cpp ****     samples_[index].audioDataLoaded = true;
 206:SampleLibrary.cpp ****     
 207:SampleLibrary.cpp ****     return true;
 208:SampleLibrary.cpp **** }
 306              		.loc 2 208 1 view .LVU80
 307 003e 0DF51D7D 		add	sp, sp, #628
 308              		.cfi_remember_state
 309              		.cfi_def_cfa_offset 28
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 13


 310              		@ sp needed
 311 0042 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 312              	.LVL22:
 313              	.L28:
 314              		.cfi_restore_state
 177:SampleLibrary.cpp ****     
 315              		.loc 2 177 5 is_stmt 1 view .LVU81
 177:SampleLibrary.cpp ****     
 316              		.loc 2 177 10 is_stmt 0 view .LVU82
 317 0046 DDF85090 		ldr	r9, [sp, #80]
 318              	.LVL23:
 180:SampleLibrary.cpp ****     if (buffer == nullptr) {
 319              		.loc 2 180 5 is_stmt 1 view .LVU83
 180:SampleLibrary.cpp ****     if (buffer == nullptr) {
 320              		.loc 2 180 47 is_stmt 0 view .LVU84
 321 004a 4846     		mov	r0, r9
 322 004c FFF7FEFF 		bl	_Z20custom_pool_allocatej
 323              	.LVL24:
 181:SampleLibrary.cpp ****         f_close(&file);
 324              		.loc 2 181 5 is_stmt 1 view .LVU85
 325 0050 0546     		mov	r5, r0
 326 0052 F8B1     		cbz	r0, .L31
 187:SampleLibrary.cpp ****     if (f_read(&file, buffer, fileSize, &bytesRead) != FR_OK) {
 327              		.loc 2 187 5 view .LVU86
 188:SampleLibrary.cpp ****         f_close(&file);
 328              		.loc 2 188 5 view .LVU87
 188:SampleLibrary.cpp ****         f_close(&file);
 329              		.loc 2 188 15 is_stmt 0 view .LVU88
 330 0054 0146     		mov	r1, r0
 331 0056 6B46     		mov	r3, sp
 332 0058 4A46     		mov	r2, r9
 333 005a 11A8     		add	r0, sp, #68
 334              	.LVL25:
 188:SampleLibrary.cpp ****         f_close(&file);
 335              		.loc 2 188 15 view .LVU89
 336 005c FFF7FEFF 		bl	f_read
 337              	.LVL26:
 188:SampleLibrary.cpp ****         f_close(&file);
 338              		.loc 2 188 5 view .LVU90
 339 0060 8046     		mov	r8, r0
 340 0062 B8B9     		cbnz	r0, .L31
 194:SampleLibrary.cpp ****     
 341              		.loc 2 194 5 is_stmt 1 view .LVU91
 194:SampleLibrary.cpp ****     
 342              		.loc 2 194 12 is_stmt 0 view .LVU92
 343 0064 11A8     		add	r0, sp, #68
 344 0066 FFF7FEFF 		bl	f_close
 345              	.LVL27:
 197:SampleLibrary.cpp ****     
 346              		.loc 2 197 5 is_stmt 1 view .LVU93
 347              	.LBB52:
 348              	.LBI52:
  77:b3ReadWavFile.h **** 		:m_data(data),
 349              		.loc 1 77 2 view .LVU94
 350              	.LBB53:
 351              	.LBI53:
  13:b3ReadWavFile.h **** {
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 14


 352              		.loc 1 13 8 view .LVU95
  13:b3ReadWavFile.h **** {
 353              		.loc 1 13 8 is_stmt 0 view .LVU96
 354              	.LBE53:
 355              	.LBE52:
 356              	.LBB54:
 357              	.LBI54:
  67:b3ReadWavFile.h **** {
 358              		.loc 1 67 8 is_stmt 1 view .LVU97
 359              	.LBE54:
 200:SampleLibrary.cpp ****         return false;  // Failed to parse WAV
 360              		.loc 2 200 43 is_stmt 0 view .LVU98
 361 006a 04F13001 		add	r1, r4, #48
 362 006e 04F14000 		add	r0, r4, #64
 363              	.LBB57:
 364              	.LBB55:
  67:b3ReadWavFile.h **** {
 365              		.loc 1 67 8 view .LVU99
 366 0072 C6F83C80 		str	r8, [r6, #60]
 367              	.LVL28:
  67:b3ReadWavFile.h **** {
 368              		.loc 1 67 8 view .LVU100
 369              	.LBE55:
 370              	.LBE57:
 200:SampleLibrary.cpp ****         return false;  // Failed to parse WAV
 371              		.loc 2 200 5 is_stmt 1 view .LVU101
 200:SampleLibrary.cpp ****         return false;  // Failed to parse WAV
 372              		.loc 2 200 43 is_stmt 0 view .LVU102
 373 0076 3944     		add	r1, r1, r7
 374 0078 3844     		add	r0, r0, r7
 375              	.LBB58:
 376              	.LBB56:
  67:b3ReadWavFile.h **** {
 377              		.loc 1 67 8 view .LVU103
 378 007a C6E90D59 		strd	r5, r9, [r6, #52]
 379              	.LBE56:
 380              	.LBE58:
 200:SampleLibrary.cpp ****         return false;  // Failed to parse WAV
 381              		.loc 2 200 43 view .LVU104
 382 007e FFF7FEFF 		bl	_ZN13b3ReadWavFile10getWavInfoER12b3DataSource
 383              	.LVL29:
 200:SampleLibrary.cpp ****         return false;  // Failed to parse WAV
 384              		.loc 2 200 5 view .LVU105
 385 0082 0028     		cmp	r0, #0
 386 0084 DAD0     		beq	.L37
 205:SampleLibrary.cpp ****     
 387              		.loc 2 205 5 is_stmt 1 view .LVU106
 205:SampleLibrary.cpp ****     
 388              		.loc 2 205 37 is_stmt 0 view .LVU107
 389 0086 0123     		movs	r3, #1
 390 0088 86F86930 		strb	r3, [r6, #105]
 207:SampleLibrary.cpp **** }
 391              		.loc 2 207 5 is_stmt 1 view .LVU108
 392              		.loc 2 208 1 is_stmt 0 view .LVU109
 393 008c 0DF51D7D 		add	sp, sp, #628
 394              		.cfi_remember_state
 395              		.cfi_def_cfa_offset 28
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 15


 396              		@ sp needed
 397 0090 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 398              	.LVL30:
 399              	.L31:
 400              		.cfi_restore_state
 182:SampleLibrary.cpp ****         return false;  // Out of memory
 401              		.loc 2 182 9 is_stmt 1 view .LVU110
 182:SampleLibrary.cpp ****         return false;  // Out of memory
 402              		.loc 2 182 16 is_stmt 0 view .LVU111
 403 0094 11A8     		add	r0, sp, #68
 404 0096 FFF7FEFF 		bl	f_close
 405              	.LVL31:
 406 009a CFE7     		b	.L37
 407              	.L39:
 408              		.align	2
 409              	.L38:
 410 009c 00000000 		.word	.LC0
 411              		.cfi_endproc
 412              	.LFE4097:
 414              		.section	.text._ZN13SampleLibraryC2ERN5daisy12SdmmcHandlerERNS0_14FatFSInterfaceER14DisplayManager
 415              		.align	1
 416              		.p2align 2,,3
 417              		.global	_ZN13SampleLibraryC2ERN5daisy12SdmmcHandlerERNS0_14FatFSInterfaceER14DisplayManager
 418              		.syntax unified
 419              		.thumb
 420              		.thumb_func
 421              		.fpu fpv5-d16
 423              	_ZN13SampleLibraryC2ERN5daisy12SdmmcHandlerERNS0_14FatFSInterfaceER14DisplayManager:
 424              	.LVL32:
 425              	.LFB3585:
  11:SampleLibrary.cpp ****     : sampleCount_(0),
 426              		.loc 2 11 1 is_stmt 1 view -0
 427              		.cfi_startproc
 428              		@ args = 0, pretend = 0, frame = 8
 429              		@ frame_needed = 0, uses_anonymous_args = 0
 430              	.LBB59:
  15:SampleLibrary.cpp **** {
 431              		.loc 2 15 23 view .LVU113
 432              	.LBE59:
  11:SampleLibrary.cpp ****     : sampleCount_(0),
 433              		.loc 2 11 1 is_stmt 0 view .LVU114
 434 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 435              		.cfi_def_cfa_offset 36
 436              		.cfi_offset 4, -36
 437              		.cfi_offset 5, -32
 438              		.cfi_offset 6, -28
 439              		.cfi_offset 7, -24
 440              		.cfi_offset 8, -20
 441              		.cfi_offset 9, -16
 442              		.cfi_offset 10, -12
 443              		.cfi_offset 11, -8
 444              		.cfi_offset 14, -4
 445 0004 8046     		mov	r8, r0
 446 0006 83B0     		sub	sp, sp, #12
 447              		.cfi_def_cfa_offset 48
  11:SampleLibrary.cpp ****     : sampleCount_(0),
 448              		.loc 2 11 1 view .LVU115
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 16


 449 0008 8B46     		mov	fp, r1
 450 000a 9246     		mov	r10, r2
 451 000c 0546     		mov	r5, r0
 452 000e 00F5E059 		add	r9, r0, #7168
 453 0012 0446     		mov	r4, r0
 454 0014 124F     		ldr	r7, .L46
 455 0016 0193     		str	r3, [sp, #4]
 456              	.LVL33:
 457              	.L41:
 458              	.LBB72:
 459              	.LBB60:
 460              	.LBI60:
 461              		.file 3 "SampleLibrary.h"
   1:SampleLibrary.h **** #ifndef SAMPLE_LIBRARY_H
   2:SampleLibrary.h **** #define SAMPLE_LIBRARY_H
   3:SampleLibrary.h **** 
   4:SampleLibrary.h **** #include "b3ReadWavFile.h"
   5:SampleLibrary.h **** #include "daisy_core.h"
   6:SampleLibrary.h **** #include "daisy_seed.h"
   7:SampleLibrary.h **** #include "DisplayManager.h"
   8:SampleLibrary.h **** #include <string>
   9:SampleLibrary.h **** 
  10:SampleLibrary.h **** using namespace daisy;
  11:SampleLibrary.h **** using namespace std;
  12:SampleLibrary.h **** 
  13:SampleLibrary.h **** // Maximum number of samples we can load at once
  14:SampleLibrary.h **** #define MAX_SAMPLES 64
  15:SampleLibrary.h **** 
  16:SampleLibrary.h **** // Structure to hold information about a loaded sample
  17:SampleLibrary.h **** struct SampleInfo {
 462              		.loc 3 17 8 is_stmt 1 view .LVU116
 463              	.LBB61:
 464              	.LBB62:
 465              	.LBI62:
  70:b3ReadWavFile.h ****   :m_data(),
 466              		.loc 1 70 3 view .LVU117
 467              	.LBB63:
 468              	.LBB64:
 469              	.LBI64:
  13:b3ReadWavFile.h **** {
 470              		.loc 1 13 8 view .LVU118
  13:b3ReadWavFile.h **** {
 471              		.loc 1 13 8 is_stmt 0 view .LVU119
 472              	.LBE64:
  73:b3ReadWavFile.h ****   {
 473              		.loc 1 73 20 view .LVU120
 474 0018 2763     		str	r7, [r4, #48]
 475              	.LBE63:
 476              	.LBE62:
 477              		.loc 3 17 8 view .LVU121
 478 001a 04F14000 		add	r0, r4, #64
 479              	.LBB67:
 480              	.LBB65:
  73:b3ReadWavFile.h ****   {
 481              		.loc 1 73 20 view .LVU122
 482 001e 0026     		movs	r6, #0
 483              	.LBE65:
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 17


 484              	.LBE67:
 485              	.LBE61:
 486              	.LBE60:
  15:SampleLibrary.cpp **** {
 487              		.loc 2 15 23 view .LVU123
 488 0020 7034     		adds	r4, r4, #112
 489              	.LVL34:
 490              	.LBB70:
 491              	.LBB69:
 492              	.LBB68:
 493              	.LBB66:
  73:b3ReadWavFile.h ****   {
 494              		.loc 1 73 20 view .LVU124
 495 0022 44E90F66 		strd	r6, r6, [r4, #-60]
 496 0026 44F8346C 		str	r6, [r4, #-52]
 497              	.LVL35:
  73:b3ReadWavFile.h ****   {
 498              		.loc 1 73 20 view .LVU125
 499              	.LBE66:
 500              	.LBE68:
 501              		.loc 3 17 8 view .LVU126
 502 002a FFF7FEFF 		bl	_ZN13b3ReadWavFileC1Ev
 503              	.LVL36:
 504              		.loc 3 17 8 view .LVU127
 505              	.LBE69:
 506              	.LBE70:
  15:SampleLibrary.cpp **** {
 507              		.loc 2 15 23 is_stmt 1 view .LVU128
  15:SampleLibrary.cpp **** {
 508              		.loc 2 15 23 view .LVU129
 509 002e 4C45     		cmp	r4, r9
 510 0030 F2D1     		bne	.L41
  15:SampleLibrary.cpp **** {
 511              		.loc 2 15 23 is_stmt 0 discriminator 2 view .LVU130
 512 0032 08F58053 		add	r3, r8, #4096
 513 0036 019A     		ldr	r2, [sp, #4]
 514 0038 C3F8006C 		str	r6, [r3, #3072]
 515 003c C3F804BC 		str	fp, [r3, #3076]
 516 0040 C3F808AC 		str	r10, [r3, #3080]
 517 0044 C3F80C2C 		str	r2, [r3, #3084]
 518              	.LBE72:
  18:SampleLibrary.cpp ****         samples_[i].loaded = false;
 519              		.loc 2 18 5 is_stmt 1 discriminator 2 view .LVU131
 520              	.LVL37:
 521              	.LBB73:
 522              	.LBB71:
  18:SampleLibrary.cpp ****         samples_[i].loaded = false;
 523              		.loc 2 18 23 discriminator 2 view .LVU132
 524              	.L42:
  19:SampleLibrary.cpp ****         samples_[i].audioDataLoaded = false;
 525              		.loc 2 19 9 discriminator 2 view .LVU133
  18:SampleLibrary.cpp ****         samples_[i].loaded = false;
 526              		.loc 2 18 23 is_stmt 0 discriminator 2 view .LVU134
 527 0048 7035     		adds	r5, r5, #112
  19:SampleLibrary.cpp ****         samples_[i].audioDataLoaded = false;
 528              		.loc 2 19 28 discriminator 2 view .LVU135
 529 004a 0023     		movs	r3, #0
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 18


  18:SampleLibrary.cpp ****         samples_[i].loaded = false;
 530              		.loc 2 18 23 discriminator 2 view .LVU136
 531 004c 4D45     		cmp	r5, r9
  19:SampleLibrary.cpp ****         samples_[i].audioDataLoaded = false;
 532              		.loc 2 19 28 discriminator 2 view .LVU137
 533 004e 05F8083C 		strb	r3, [r5, #-8]
  20:SampleLibrary.cpp ****     }
 534              		.loc 2 20 9 is_stmt 1 discriminator 2 view .LVU138
  20:SampleLibrary.cpp ****     }
 535              		.loc 2 20 37 is_stmt 0 discriminator 2 view .LVU139
 536 0052 05F8073C 		strb	r3, [r5, #-7]
  18:SampleLibrary.cpp ****         samples_[i].loaded = false;
 537              		.loc 2 18 5 is_stmt 1 discriminator 2 view .LVU140
  18:SampleLibrary.cpp ****         samples_[i].loaded = false;
 538              		.loc 2 18 23 discriminator 2 view .LVU141
 539 0056 F7D1     		bne	.L42
 540              	.LBE71:
 541              	.LBE73:
  22:SampleLibrary.cpp **** 
 542              		.loc 2 22 1 is_stmt 0 view .LVU142
 543 0058 4046     		mov	r0, r8
 544 005a 03B0     		add	sp, sp, #12
 545              		.cfi_def_cfa_offset 36
 546              		@ sp needed
 547 005c BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 548              	.LVL38:
 549              	.L47:
  22:SampleLibrary.cpp **** 
 550              		.loc 2 22 1 view .LVU143
 551              		.align	2
 552              	.L46:
 553 0060 08000000 		.word	_ZTV16MemoryDataSource+8
 554              		.cfi_endproc
 555              	.LFE3585:
 557              		.global	_ZN13SampleLibraryC1ERN5daisy12SdmmcHandlerERNS0_14FatFSInterfaceER14DisplayManager
 558              		.thumb_set _ZN13SampleLibraryC1ERN5daisy12SdmmcHandlerERNS0_14FatFSInterfaceER14DisplayManager,_ZN
 559              		.section	.rodata._ZN13SampleLibrary14loadSampleInfoEPKci.str1.4,"aMS",%progbits,1
 560              		.align	2
 561              	.LC1:
 562 0000 4F70656E 		.ascii	"Opening file...\000"
 562      696E6720 
 562      66696C65 
 562      2E2E2E00 
 563              		.align	2
 564              	.LC2:
 565 0010 4F70656E 		.ascii	"Open failed!\000"
 565      20666169 
 565      6C656421 
 565      00
 566 001d 000000   		.align	2
 567              	.LC3:
 568 0020 52656164 		.ascii	"Reading header...\000"
 568      696E6720 
 568      68656164 
 568      65722E2E 
 568      2E00
 569 0032 0000     		.align	2
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 19


 570              	.LC4:
 571 0034 436C6F73 		.ascii	"Closing file...\000"
 571      696E6720 
 571      66696C65 
 571      2E2E2E00 
 572              		.align	2
 573              	.LC5:
 574 0044 50617273 		.ascii	"Parsing WAV...\000"
 574      696E6720 
 574      5741562E 
 574      2E2E00
 575 0053 00       		.align	2
 576              	.LC6:
 577 0054 52656164 		.ascii	"Read failed!\000"
 577      20666169 
 577      6C656421 
 577      00
 578              		.section	.text._ZN13SampleLibrary14loadSampleInfoEPKci,"ax",%progbits
 579              		.align	1
 580              		.p2align 2,,3
 581              		.global	_ZN13SampleLibrary14loadSampleInfoEPKci
 582              		.syntax unified
 583              		.thumb
 584              		.thumb_func
 585              		.fpu fpv5-d16
 587              	_ZN13SampleLibrary14loadSampleInfoEPKci:
 588              	.LVL39:
 589              	.LFB3588:
 100:SampleLibrary.cpp ****     display_.showMessage("Opening file...", 150);
 590              		.loc 2 100 69 is_stmt 1 view -0
 591              		.cfi_startproc
 592              		@ args = 0, pretend = 0, frame = 608
 593              		@ frame_needed = 0, uses_anonymous_args = 0
 100:SampleLibrary.cpp ****     display_.showMessage("Opening file...", 150);
 594              		.loc 2 100 69 is_stmt 0 view .LVU145
 595 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 596              		.cfi_def_cfa_offset 28
 597              		.cfi_offset 4, -28
 598              		.cfi_offset 5, -24
 599              		.cfi_offset 6, -20
 600              		.cfi_offset 7, -16
 601              		.cfi_offset 8, -12
 602              		.cfi_offset 9, -8
 603              		.cfi_offset 14, -4
 101:SampleLibrary.cpp ****     
 604              		.loc 2 101 5 view .LVU146
 605 0004 00F58057 		add	r7, r0, #4096
 100:SampleLibrary.cpp ****     display_.showMessage("Opening file...", 150);
 606              		.loc 2 100 69 view .LVU147
 607 0008 ADF5197D 		sub	sp, sp, #612
 608              		.cfi_def_cfa_offset 640
 100:SampleLibrary.cpp ****     display_.showMessage("Opening file...", 150);
 609              		.loc 2 100 69 view .LVU148
 610 000c 0E46     		mov	r6, r1
 101:SampleLibrary.cpp ****     
 611              		.loc 2 101 5 is_stmt 1 view .LVU149
 100:SampleLibrary.cpp ****     display_.showMessage("Opening file...", 150);
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 20


 612              		.loc 2 100 69 is_stmt 0 view .LVU150
 613 000e 1446     		mov	r4, r2
 101:SampleLibrary.cpp ****     
 614              		.loc 2 101 25 view .LVU151
 615 0010 3B49     		ldr	r1, .L56
 616              	.LVL40:
 101:SampleLibrary.cpp ****     
 617              		.loc 2 101 25 view .LVU152
 618 0012 9622     		movs	r2, #150
 619              	.LVL41:
 100:SampleLibrary.cpp ****     display_.showMessage("Opening file...", 150);
 620              		.loc 2 100 69 view .LVU153
 621 0014 0546     		mov	r5, r0
 101:SampleLibrary.cpp ****     
 622              		.loc 2 101 25 view .LVU154
 623 0016 D7F80C0C 		ldr	r0, [r7, #3084]
 624              	.LVL42:
 101:SampleLibrary.cpp ****     
 625              		.loc 2 101 25 view .LVU155
 626 001a FFF7FEFF 		bl	_ZN14DisplayManager11showMessageEPKcm
 627              	.LVL43:
 104:SampleLibrary.cpp ****     if (f_open(&file, filename, FA_OPEN_EXISTING | FA_READ) != FR_OK) {
 628              		.loc 2 104 5 is_stmt 1 view .LVU156
 105:SampleLibrary.cpp ****         display_.showMessage("Open failed!", 200);
 629              		.loc 2 105 5 view .LVU157
 105:SampleLibrary.cpp ****         display_.showMessage("Open failed!", 200);
 630              		.loc 2 105 15 is_stmt 0 view .LVU158
 631 001e 0122     		movs	r2, #1
 632 0020 3146     		mov	r1, r6
 633 0022 0DA8     		add	r0, sp, #52
 634 0024 FFF7FEFF 		bl	f_open
 635              	.LVL44:
 105:SampleLibrary.cpp ****         display_.showMessage("Open failed!", 200);
 636              		.loc 2 105 5 view .LVU159
 637 0028 08BB     		cbnz	r0, .L54
 110:SampleLibrary.cpp ****     
 638              		.loc 2 110 5 is_stmt 1 view .LVU160
 110:SampleLibrary.cpp ****     
 639              		.loc 2 110 25 is_stmt 0 view .LVU161
 640 002a 9622     		movs	r2, #150
 641 002c 3549     		ldr	r1, .L56+4
 642 002e D7F80C0C 		ldr	r0, [r7, #3084]
 643 0032 FFF7FEFF 		bl	_ZN14DisplayManager11showMessageEPKcm
 644              	.LVL45:
 117:SampleLibrary.cpp ****     char headerBuffer[WAV_HEADER_SIZE];
 645              		.loc 2 117 5 is_stmt 1 view .LVU162
 118:SampleLibrary.cpp ****     
 646              		.loc 2 118 5 view .LVU163
 120:SampleLibrary.cpp ****     if (f_read(&file, headerBuffer, WAV_HEADER_SIZE, &bytesRead) != FR_OK || bytesRead != WAV_HEADE
 647              		.loc 2 120 5 view .LVU164
 121:SampleLibrary.cpp ****         f_close(&file);
 648              		.loc 2 121 5 view .LVU165
 121:SampleLibrary.cpp ****         f_close(&file);
 649              		.loc 2 121 15 is_stmt 0 view .LVU166
 650 0036 01AB     		add	r3, sp, #4
 651 0038 2C22     		movs	r2, #44
 652 003a 02A9     		add	r1, sp, #8
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 21


 653 003c 0DA8     		add	r0, sp, #52
 654 003e FFF7FEFF 		bl	f_read
 655              	.LVL46:
 121:SampleLibrary.cpp ****         f_close(&file);
 656              		.loc 2 121 75 view .LVU167
 657 0042 8046     		mov	r8, r0
 658 0044 20B9     		cbnz	r0, .L51
 121:SampleLibrary.cpp ****         f_close(&file);
 659              		.loc 2 121 75 discriminator 2 view .LVU168
 660 0046 DDF80490 		ldr	r9, [sp, #4]
 661 004a B9F12C0F 		cmp	r9, #44
 662 004e 19D0     		beq	.L55
 663              	.L51:
 122:SampleLibrary.cpp ****         display_.showMessage("Read failed!", 20000);
 664              		.loc 2 122 9 is_stmt 1 view .LVU169
 122:SampleLibrary.cpp ****         display_.showMessage("Read failed!", 20000);
 665              		.loc 2 122 16 is_stmt 0 view .LVU170
 666 0050 0DA8     		add	r0, sp, #52
 667 0052 FFF7FEFF 		bl	f_close
 668              	.LVL47:
 123:SampleLibrary.cpp ****         return false;  // Failed to read header
 669              		.loc 2 123 9 is_stmt 1 view .LVU171
 123:SampleLibrary.cpp ****         return false;  // Failed to read header
 670              		.loc 2 123 29 is_stmt 0 view .LVU172
 671 0056 D7F80C0C 		ldr	r0, [r7, #3084]
 672 005a 44F62062 		movw	r2, #20000
 673 005e 2A49     		ldr	r1, .L56+8
 674 0060 FFF7FEFF 		bl	_ZN14DisplayManager11showMessageEPKcm
 675              	.LVL48:
 124:SampleLibrary.cpp ****     }
 676              		.loc 2 124 9 is_stmt 1 view .LVU173
 124:SampleLibrary.cpp ****     }
 677              		.loc 2 124 16 is_stmt 0 view .LVU174
 678 0064 0020     		movs	r0, #0
 679              	.LVL49:
 680              	.L50:
 157:SampleLibrary.cpp **** 
 681              		.loc 2 157 1 view .LVU175
 682 0066 0DF5197D 		add	sp, sp, #612
 683              		.cfi_remember_state
 684              		.cfi_def_cfa_offset 28
 685              		@ sp needed
 686 006a BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 687              	.LVL50:
 688              	.L54:
 689              		.cfi_restore_state
 106:SampleLibrary.cpp ****         return false;  // Failed to open
 690              		.loc 2 106 9 is_stmt 1 view .LVU176
 106:SampleLibrary.cpp ****         return false;  // Failed to open
 691              		.loc 2 106 29 is_stmt 0 view .LVU177
 692 006e D7F80C0C 		ldr	r0, [r7, #3084]
 693 0072 C822     		movs	r2, #200
 694 0074 2549     		ldr	r1, .L56+12
 695 0076 FFF7FEFF 		bl	_ZN14DisplayManager11showMessageEPKcm
 696              	.LVL51:
 107:SampleLibrary.cpp ****     }
 697              		.loc 2 107 9 is_stmt 1 view .LVU178
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 22


 107:SampleLibrary.cpp ****     }
 698              		.loc 2 107 16 is_stmt 0 view .LVU179
 699 007a 0020     		movs	r0, #0
 157:SampleLibrary.cpp **** 
 700              		.loc 2 157 1 view .LVU180
 701 007c 0DF5197D 		add	sp, sp, #612
 702              		.cfi_remember_state
 703              		.cfi_def_cfa_offset 28
 704              		@ sp needed
 705 0080 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 706              	.LVL52:
 707              	.L55:
 708              		.cfi_restore_state
 127:SampleLibrary.cpp ****     
 709              		.loc 2 127 5 is_stmt 1 view .LVU181
 127:SampleLibrary.cpp ****     
 710              		.loc 2 127 25 is_stmt 0 view .LVU182
 711 0084 9622     		movs	r2, #150
 712 0086 2249     		ldr	r1, .L56+16
 713 0088 D7F80C0C 		ldr	r0, [r7, #3084]
 714 008c C4EBC404 		rsb	r4, r4, r4, lsl #3
 715              	.LVL53:
 127:SampleLibrary.cpp ****     
 716              		.loc 2 127 25 view .LVU183
 717 0090 FFF7FEFF 		bl	_ZN14DisplayManager11showMessageEPKcm
 718              	.LVL54:
 130:SampleLibrary.cpp ****     
 719              		.loc 2 130 5 is_stmt 1 view .LVU184
 130:SampleLibrary.cpp ****     
 720              		.loc 2 130 12 is_stmt 0 view .LVU185
 721 0094 0DA8     		add	r0, sp, #52
 722 0096 FFF7FEFF 		bl	f_close
 723              	.LVL55:
 132:SampleLibrary.cpp ****     
 724              		.loc 2 132 5 is_stmt 1 view .LVU186
 132:SampleLibrary.cpp ****     
 725              		.loc 2 132 25 is_stmt 0 view .LVU187
 726 009a D7F80C0C 		ldr	r0, [r7, #3084]
 727 009e 9622     		movs	r2, #150
 728 00a0 1C49     		ldr	r1, .L56+20
 729 00a2 FFF7FEFF 		bl	_ZN14DisplayManager11showMessageEPKcm
 730              	.LVL56:
 135:SampleLibrary.cpp ****     samples_[index].name[31] = '\0';  // Ensure null-terminated
 731              		.loc 2 135 5 is_stmt 1 view .LVU188
 135:SampleLibrary.cpp ****     samples_[index].name[31] = '\0';  // Ensure null-terminated
 732              		.loc 2 135 12 is_stmt 0 view .LVU189
 733 00a6 3146     		mov	r1, r6
 135:SampleLibrary.cpp ****     samples_[index].name[31] = '\0';  // Ensure null-terminated
 734              		.loc 2 135 29 view .LVU190
 735 00a8 05EB0416 		add	r6, r5, r4, lsl #4
 736              	.LVL57:
 135:SampleLibrary.cpp ****     samples_[index].name[31] = '\0';  // Ensure null-terminated
 737              		.loc 2 135 12 view .LVU191
 738 00ac 1F22     		movs	r2, #31
 739 00ae 2401     		lsls	r4, r4, #4
 740 00b0 3046     		mov	r0, r6
 741 00b2 FFF7FEFF 		bl	strncpy
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 23


 742              	.LVL58:
 136:SampleLibrary.cpp ****     
 743              		.loc 2 136 5 is_stmt 1 view .LVU192
 142:SampleLibrary.cpp ****         return false;  // Failed to parse WAV header
 744              		.loc 2 142 43 is_stmt 0 view .LVU193
 745 00b6 04F13001 		add	r1, r4, #48
 746              	.LBB74:
 747              	.LBB75:
  67:b3ReadWavFile.h **** {
 748              		.loc 1 67 8 view .LVU194
 749 00ba 02AB     		add	r3, sp, #8
 750              	.LBE75:
 751              	.LBE74:
 142:SampleLibrary.cpp ****         return false;  // Failed to parse WAV header
 752              		.loc 2 142 43 view .LVU195
 753 00bc 4034     		adds	r4, r4, #64
 754 00be 2944     		add	r1, r1, r5
 136:SampleLibrary.cpp ****     
 755              		.loc 2 136 30 view .LVU196
 756 00c0 86F81F80 		strb	r8, [r6, #31]
 139:SampleLibrary.cpp ****     
 757              		.loc 2 139 5 is_stmt 1 view .LVU197
 758              	.LVL59:
 759              	.LBB77:
 760              	.LBI77:
  77:b3ReadWavFile.h **** 		:m_data(data),
 761              		.loc 1 77 2 view .LVU198
 762              	.LBB78:
 763              	.LBI78:
  13:b3ReadWavFile.h **** {
 764              		.loc 1 13 8 view .LVU199
  13:b3ReadWavFile.h **** {
 765              		.loc 1 13 8 is_stmt 0 view .LVU200
 766              	.LBE78:
 767              	.LBE77:
 768              	.LBB79:
 769              	.LBI74:
  67:b3ReadWavFile.h **** {
 770              		.loc 1 67 8 is_stmt 1 view .LVU201
 771              	.LBE79:
 142:SampleLibrary.cpp ****         return false;  // Failed to parse WAV header
 772              		.loc 2 142 43 is_stmt 0 view .LVU202
 773 00c4 2819     		adds	r0, r5, r4
 774              	.LBB80:
 775              	.LBB76:
  67:b3ReadWavFile.h **** {
 776              		.loc 1 67 8 view .LVU203
 777 00c6 7363     		str	r3, [r6, #52]
 778 00c8 C6F83890 		str	r9, [r6, #56]
 779 00cc C6F83C80 		str	r8, [r6, #60]
 780              	.LVL60:
  67:b3ReadWavFile.h **** {
 781              		.loc 1 67 8 view .LVU204
 782              	.LBE76:
 783              	.LBE80:
 142:SampleLibrary.cpp ****         return false;  // Failed to parse WAV header
 784              		.loc 2 142 5 is_stmt 1 view .LVU205
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 24


 142:SampleLibrary.cpp ****         return false;  // Failed to parse WAV header
 785              		.loc 2 142 43 is_stmt 0 view .LVU206
 786 00d0 FFF7FEFF 		bl	_ZN13b3ReadWavFile10getWavInfoER12b3DataSource
 787              	.LVL61:
 142:SampleLibrary.cpp ****         return false;  // Failed to parse WAV header
 788              		.loc 2 142 5 view .LVU207
 789 00d4 0028     		cmp	r0, #0
 790 00d6 C6D0     		beq	.L50
 147:SampleLibrary.cpp ****     samples_[index].sampleRate = (int)samples_[index].reader.getFileDataRate();
 791              		.loc 2 147 5 is_stmt 1 view .LVU208
 792              	.LVL62:
 793              	.LBB81:
 794              	.LBI81:
 140:b3ReadWavFile.h **** 
 141:b3ReadWavFile.h **** };
 142:b3ReadWavFile.h **** 
 143:b3ReadWavFile.h **** 
 144:b3ReadWavFile.h **** 
 145:b3ReadWavFile.h **** 
 146:b3ReadWavFile.h **** struct b3WavTicker
 147:b3ReadWavFile.h **** {
 148:b3ReadWavFile.h **** 	std::vector<double> lastFrame_;
 149:b3ReadWavFile.h **** 	bool finished_;
 150:b3ReadWavFile.h **** 	double time_;
 151:b3ReadWavFile.h **** 	double starttime_;
 152:b3ReadWavFile.h **** 	double endtime_;
 153:b3ReadWavFile.h **** 	double rate_;
 154:b3ReadWavFile.h **** 	double speed_;
 155:b3ReadWavFile.h **** 	int wavindex;
 156:b3ReadWavFile.h **** 	double env_volume()
 157:b3ReadWavFile.h **** 	{
 158:b3ReadWavFile.h **** 		double frac = 1. - (time_ - starttime_) / (endtime_ - starttime_);
 159:b3ReadWavFile.h **** 		return frac;
 160:b3ReadWavFile.h **** 	}
 161:b3ReadWavFile.h **** 
 162:b3ReadWavFile.h **** 	double env_volume2()
 163:b3ReadWavFile.h **** 	{
 164:b3ReadWavFile.h **** 		double frac = (time_ - starttime_) / (endtime_ - starttime_);
 165:b3ReadWavFile.h **** 		if (frac > 0.5)
 166:b3ReadWavFile.h **** 			return 1. - frac;
 167:b3ReadWavFile.h **** 		return frac;
 168:b3ReadWavFile.h **** 	}
 169:b3ReadWavFile.h **** };
 170:b3ReadWavFile.h **** 
 171:b3ReadWavFile.h **** class b3ReadWavFile
 172:b3ReadWavFile.h **** {
 173:b3ReadWavFile.h **** 	bool byteswap_;
 174:b3ReadWavFile.h **** 	bool wavFile_;
 175:b3ReadWavFile.h **** 	unsigned long m_numFrames;
 176:b3ReadWavFile.h **** 	unsigned long dataType_;
 177:b3ReadWavFile.h **** 	double fileDataRate_;
 178:b3ReadWavFile.h **** 	
 179:b3ReadWavFile.h **** 	unsigned long dataOffset_;
 180:b3ReadWavFile.h **** 	unsigned int channels_;
 181:b3ReadWavFile.h **** 	bool m_machineIsLittleEndian;
 182:b3ReadWavFile.h **** 
 183:b3ReadWavFile.h **** public:
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 25


 184:b3ReadWavFile.h **** 	b3ReadWavFile();
 185:b3ReadWavFile.h **** 	virtual ~b3ReadWavFile();
 186:b3ReadWavFile.h **** 
 187:b3ReadWavFile.h **** 	//btAlignedObjectArray<double> m_frames;
 188:b3ReadWavFile.h **** 
 189:b3ReadWavFile.h **** 	bool getWavInfo(b3DataSource& dataSource);
 190:b3ReadWavFile.h **** 
 191:b3ReadWavFile.h **** 	void normalize(double peak);
 192:b3ReadWavFile.h **** 
 193:b3ReadWavFile.h **** 	void interpolate(b3WavTicker *ticker, b3DataSource& dataSource, double speed, double volume, int s
 194:b3ReadWavFile.h **** 	void tick(b3WavTicker *ticker, b3DataSource& dataSource, double speed, double volume, int size, fl
 195:b3ReadWavFile.h **** 	
 196:b3ReadWavFile.h **** 	void resize();
 197:b3ReadWavFile.h **** 
 198:b3ReadWavFile.h **** 	b3WavTicker createWavTicker(double sampleRate);
 199:b3ReadWavFile.h **** 
 200:b3ReadWavFile.h **** 	int getNumFrames() const
 795              		.loc 1 200 6 view .LVU209
 796              	.LBB82:
 201:b3ReadWavFile.h **** 	{
 202:b3ReadWavFile.h **** 		return m_numFrames;
 797              		.loc 1 202 3 view .LVU210
 798              		.loc 1 202 3 is_stmt 0 view .LVU211
 799              	.LBE82:
 800              	.LBE81:
 149:SampleLibrary.cpp ****     samples_[index].audioDataLoaded = false;  // Audio data NOT loaded yet
 801              		.loc 2 149 28 view .LVU212
 802 00d8 0123     		movs	r3, #1
 147:SampleLibrary.cpp ****     samples_[index].sampleRate = (int)samples_[index].reader.getFileDataRate();
 803              		.loc 2 147 31 view .LVU213
 804 00da B16C     		ldr	r1, [r6, #72]
 153:SampleLibrary.cpp ****     samples_[index].bitsPerSample = 16;
 805              		.loc 2 153 30 view .LVU214
 806 00dc 0222     		movs	r2, #2
 149:SampleLibrary.cpp ****     samples_[index].audioDataLoaded = false;  // Audio data NOT loaded yet
 807              		.loc 2 149 28 view .LVU215
 808 00de A6F86830 		strh	r3, [r6, #104]	@ movhi
 154:SampleLibrary.cpp ****     
 809              		.loc 2 154 35 view .LVU216
 810 00e2 1023     		movs	r3, #16
 147:SampleLibrary.cpp ****     samples_[index].sampleRate = (int)samples_[index].reader.getFileDataRate();
 811              		.loc 2 147 31 view .LVU217
 812 00e4 3162     		str	r1, [r6, #32]
 148:SampleLibrary.cpp ****     samples_[index].loaded = true;           // Metadata is loaded
 813              		.loc 2 148 5 is_stmt 1 view .LVU218
 814              	.LVL63:
 815              	.LBB83:
 816              	.LBI83:
 203:b3ReadWavFile.h **** 	}
 204:b3ReadWavFile.h **** 	
 205:b3ReadWavFile.h **** 	double getFileDataRate()
 817              		.loc 1 205 9 view .LVU219
 818              	.LBB84:
 206:b3ReadWavFile.h **** 	{
 207:b3ReadWavFile.h **** 	  return fileDataRate_;
 819              		.loc 1 207 4 view .LVU220
 820              		.loc 1 207 4 is_stmt 0 view .LVU221
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 26


 821              	.LBE84:
 822              	.LBE83:
 153:SampleLibrary.cpp ****     samples_[index].bitsPerSample = 16;
 823              		.loc 2 153 30 view .LVU222
 824 00e6 7262     		str	r2, [r6, #36]
 154:SampleLibrary.cpp ****     
 825              		.loc 2 154 35 view .LVU223
 826 00e8 F362     		str	r3, [r6, #44]
 148:SampleLibrary.cpp ****     samples_[index].loaded = true;           // Metadata is loaded
 827              		.loc 2 148 34 view .LVU224
 828 00ea 96ED147B 		vldr.64	d7, [r6, #80]
 829 00ee BDEEC77B 		vcvt.s32.f64	s14, d7
 830 00f2 86ED0A7A 		vstr.32	s14, [r6, #40]	@ int
 149:SampleLibrary.cpp ****     samples_[index].audioDataLoaded = false;  // Audio data NOT loaded yet
 831              		.loc 2 149 5 is_stmt 1 view .LVU225
 150:SampleLibrary.cpp ****     
 832              		.loc 2 150 5 view .LVU226
 153:SampleLibrary.cpp ****     samples_[index].bitsPerSample = 16;
 833              		.loc 2 153 5 view .LVU227
 154:SampleLibrary.cpp ****     
 834              		.loc 2 154 5 view .LVU228
 156:SampleLibrary.cpp **** }
 835              		.loc 2 156 5 view .LVU229
 157:SampleLibrary.cpp **** 
 836              		.loc 2 157 1 is_stmt 0 view .LVU230
 837 00f6 0DF5197D 		add	sp, sp, #612
 838              		.cfi_def_cfa_offset 28
 839              		@ sp needed
 840 00fa BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 841              	.LVL64:
 842              	.L57:
 157:SampleLibrary.cpp **** 
 843              		.loc 2 157 1 view .LVU231
 844 00fe 00BF     		.align	2
 845              	.L56:
 846 0100 00000000 		.word	.LC1
 847 0104 20000000 		.word	.LC3
 848 0108 54000000 		.word	.LC6
 849 010c 10000000 		.word	.LC2
 850 0110 34000000 		.word	.LC4
 851 0114 44000000 		.word	.LC5
 852              		.cfi_endproc
 853              	.LFE3588:
 855              		.section	.rodata._ZN13SampleLibrary4initEv.str1.4,"aMS",%progbits,1
 856              		.align	2
 857              	.LC7:
 858 0000 496E6974 		.ascii	"Initializing Library...\000"
 858      69616C69 
 858      7A696E67 
 858      204C6962 
 858      72617279 
 859              		.align	2
 860              	.LC8:
 861 0018 4F70656E 		.ascii	"Opening dir...\000"
 861      696E6720 
 861      6469722E 
 861      2E2E00
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 27


 862 0027 00       		.align	2
 863              	.LC9:
 864 0028 2F00     		.ascii	"/\000"
 865 002a 0000     		.align	2
 866              	.LC10:
 867 002c 44697220 		.ascii	"Dir open failed!\000"
 867      6F70656E 
 867      20666169 
 867      6C656421 
 867      00
 868 003d 000000   		.align	2
 869              	.LC11:
 870 0040 5363616E 		.ascii	"Scanning files...\000"
 870      6E696E67 
 870      2066696C 
 870      65732E2E 
 870      2E00
 871 0052 0000     		.align	2
 872              	.LC12:
 873 0054 2E776176 		.ascii	".wav\000"
 873      00
 874 0059 000000   		.align	2
 875              	.LC13:
 876 005c 2E574156 		.ascii	".WAV\000"
 876      00
 877 0061 000000   		.align	2
 878              	.LC14:
 879 0064 53616D70 		.ascii	"Sample loaded\000"
 879      6C65206C 
 879      6F616465 
 879      6400
 880 0072 0000     		.align	2
 881              	.LC15:
 882 0074 4C6F6164 		.ascii	"Load failed!\000"
 882      20666169 
 882      6C656421 
 882      00
 883 0081 000000   		.align	2
 884              	.LC16:
 885 0084 436C6F73 		.ascii	"Closing dir...\000"
 885      696E6720 
 885      6469722E 
 885      2E2E00
 886 0093 00       		.align	2
 887              	.LC17:
 888 0094 4C6F6164 		.ascii	"Loaded %d samples\000"
 888      65642025 
 888      64207361 
 888      6D706C65 
 888      7300
 889              		.section	.text._ZN13SampleLibrary4initEv,"ax",%progbits
 890              		.align	1
 891              		.p2align 2,,3
 892              		.global	_ZN13SampleLibrary4initEv
 893              		.syntax unified
 894              		.thumb
 895              		.thumb_func
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 28


 896              		.fpu fpv5-d16
 898              	_ZN13SampleLibrary4initEv:
 899              	.LVL65:
 900              	.LFB3587:
  24:SampleLibrary.cpp ****     // Show initialization message
 901              		.loc 2 24 28 is_stmt 1 view -0
 902              		.cfi_startproc
 903              		@ args = 0, pretend = 0, frame = 392
 904              		@ frame_needed = 0, uses_anonymous_args = 0
  26:SampleLibrary.cpp ****     
 905              		.loc 2 26 5 view .LVU233
  24:SampleLibrary.cpp ****     // Show initialization message
 906              		.loc 2 24 28 is_stmt 0 view .LVU234
 907 0000 30B5     		push	{r4, r5, lr}
 908              		.cfi_def_cfa_offset 12
 909              		.cfi_offset 4, -12
 910              		.cfi_offset 5, -8
 911              		.cfi_offset 14, -4
  26:SampleLibrary.cpp ****     
 912              		.loc 2 26 5 view .LVU235
 913 0002 00F58054 		add	r4, r0, #4096
  24:SampleLibrary.cpp ****     // Show initialization message
 914              		.loc 2 24 28 view .LVU236
 915 0006 E3B0     		sub	sp, sp, #396
 916              		.cfi_def_cfa_offset 408
  26:SampleLibrary.cpp ****     
 917              		.loc 2 26 25 view .LVU237
 918 0008 4FF4FA72 		mov	r2, #500
 919 000c 4349     		ldr	r1, .L75
  24:SampleLibrary.cpp ****     // Show initialization message
 920              		.loc 2 24 28 view .LVU238
 921 000e 0546     		mov	r5, r0
  26:SampleLibrary.cpp ****     
 922              		.loc 2 26 25 view .LVU239
 923 0010 D4F80C0C 		ldr	r0, [r4, #3084]
 924              	.LVL66:
  26:SampleLibrary.cpp ****     
 925              		.loc 2 26 25 view .LVU240
 926 0014 FFF7FEFF 		bl	_ZN14DisplayManager11showMessageEPKcm
 927              	.LVL67:
  31:SampleLibrary.cpp ****     
 928              		.loc 2 31 5 is_stmt 1 view .LVU241
  31:SampleLibrary.cpp ****     
 929              		.loc 2 31 25 is_stmt 0 view .LVU242
 930 0018 4149     		ldr	r1, .L75+4
 931 001a D4F80C0C 		ldr	r0, [r4, #3084]
 932 001e 4FF49672 		mov	r2, #300
 933 0022 FFF7FEFF 		bl	_ZN14DisplayManager11showMessageEPKcm
 934              	.LVL68:
  34:SampleLibrary.cpp ****     if (f_opendir(&dir, "/") != FR_OK) {
 935              		.loc 2 34 5 is_stmt 1 view .LVU243
  35:SampleLibrary.cpp ****         display_.showMessage("Dir open failed!", 1000);
 936              		.loc 2 35 5 view .LVU244
  35:SampleLibrary.cpp ****         display_.showMessage("Dir open failed!", 1000);
 937              		.loc 2 35 18 is_stmt 0 view .LVU245
 938 0026 3F49     		ldr	r1, .L75+8
 939 0028 6846     		mov	r0, sp
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 29


 940 002a FFF7FEFF 		bl	f_opendir
 941              	.LVL69:
  35:SampleLibrary.cpp ****         display_.showMessage("Dir open failed!", 1000);
 942              		.loc 2 35 5 view .LVU246
 943 002e 0028     		cmp	r0, #0
 944 0030 6AD1     		bne	.L73
  40:SampleLibrary.cpp ****     
 945              		.loc 2 40 5 is_stmt 1 view .LVU247
  40:SampleLibrary.cpp ****     
 946              		.loc 2 40 25 is_stmt 0 view .LVU248
 947 0032 4FF49672 		mov	r2, #300
 948 0036 3C49     		ldr	r1, .L75+12
 949 0038 D4F80C0C 		ldr	r0, [r4, #3084]
 950 003c FFF7FEFF 		bl	_ZN14DisplayManager11showMessageEPKcm
 951              	.LVL70:
  43:SampleLibrary.cpp ****     FRESULT result;
 952              		.loc 2 43 5 is_stmt 1 view .LVU249
  44:SampleLibrary.cpp ****     int fileCount = 0;
 953              		.loc 2 44 5 view .LVU250
  45:SampleLibrary.cpp ****     
 954              		.loc 2 45 5 view .LVU251
 955              	.L65:
  47:SampleLibrary.cpp ****         result = f_readdir(&dir, &fno);
 956              		.loc 2 47 5 view .LVU252
 957              	.LBB85:
  48:SampleLibrary.cpp ****         
 958              		.loc 2 48 9 view .LVU253
  48:SampleLibrary.cpp ****         
 959              		.loc 2 48 27 is_stmt 0 view .LVU254
 960 0040 1CA9     		add	r1, sp, #112
 961 0042 6846     		mov	r0, sp
 962 0044 FFF7FEFF 		bl	f_readdir
 963              	.LVL71:
  55:SampleLibrary.cpp ****         
 964              		.loc 2 55 9 is_stmt 1 view .LVU255
  58:SampleLibrary.cpp ****             continue;
 965              		.loc 2 58 9 view .LVU256
  63:SampleLibrary.cpp ****         if (strstr(filename, ".wav") == nullptr &&
 966              		.loc 2 63 9 view .LVU257
  64:SampleLibrary.cpp ****             strstr(filename, ".WAV") == nullptr) {
 967              		.loc 2 64 9 view .LVU258
  48:SampleLibrary.cpp ****         
 968              		.loc 2 48 27 is_stmt 0 view .LVU259
 969 0048 0346     		mov	r3, r0
 970              	.LVL72:
  51:SampleLibrary.cpp ****             break;
 971              		.loc 2 51 9 is_stmt 1 view .LVU260
  64:SampleLibrary.cpp ****             strstr(filename, ".WAV") == nullptr) {
 972              		.loc 2 64 19 is_stmt 0 view .LVU261
 973 004a 3849     		ldr	r1, .L75+16
 974 004c 0DF18600 		add	r0, sp, #134
 975              	.LVL73:
  51:SampleLibrary.cpp ****             break;
 976              		.loc 2 51 9 view .LVU262
 977 0050 002B     		cmp	r3, #0
 978 0052 3ED1     		bne	.L61
  51:SampleLibrary.cpp ****             break;
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 30


 979              		.loc 2 51 29 discriminator 1 view .LVU263
 980 0054 9DF88630 		ldrb	r3, [sp, #134]	@ zero_extendqisi2
 981              	.LVL74:
  51:SampleLibrary.cpp ****             break;
 982              		.loc 2 51 29 discriminator 1 view .LVU264
 983 0058 002B     		cmp	r3, #0
 984 005a 3AD0     		beq	.L61
  58:SampleLibrary.cpp ****             continue;
 985              		.loc 2 58 9 view .LVU265
 986 005c 9DF87830 		ldrb	r3, [sp, #120]	@ zero_extendqisi2
 987 0060 13F0120F 		tst	r3, #18
 988 0064 ECD1     		bne	.L65
  64:SampleLibrary.cpp ****             strstr(filename, ".WAV") == nullptr) {
 989              		.loc 2 64 19 view .LVU266
 990 0066 FFF7FEFF 		bl	strstr
 991              	.LVL75:
  64:SampleLibrary.cpp ****             strstr(filename, ".WAV") == nullptr) {
 992              		.loc 2 64 19 view .LVU267
 993 006a 0346     		mov	r3, r0
  65:SampleLibrary.cpp ****             continue;  // Not a WAV file
 994              		.loc 2 65 19 view .LVU268
 995 006c 3049     		ldr	r1, .L75+20
 996 006e 0DF18600 		add	r0, sp, #134
 997              	.LVL76:
  64:SampleLibrary.cpp ****             strstr(filename, ".WAV") == nullptr) {
 998              		.loc 2 64 9 view .LVU269
 999 0072 13B3     		cbz	r3, .L74
 1000              	.LVL77:
 1001              	.L63:
  70:SampleLibrary.cpp ****         snprintf(debugMsg, sizeof(debugMsg), "Loading: %s", filename);
 1002              		.loc 2 70 9 is_stmt 1 view .LVU270
  71:SampleLibrary.cpp ****         display_.showMessage(debugMsg, 200);
 1003              		.loc 2 71 9 view .LVU271
  71:SampleLibrary.cpp ****         display_.showMessage(debugMsg, 200);
 1004              		.loc 2 71 17 is_stmt 0 view .LVU272
 1005 0074 0DF18603 		add	r3, sp, #134
 1006              	.LVL78:
  71:SampleLibrary.cpp ****         display_.showMessage(debugMsg, 200);
 1007              		.loc 2 71 17 view .LVU273
 1008 0078 2E4A     		ldr	r2, .L75+24
 1009 007a 4021     		movs	r1, #64
 1010 007c 0CA8     		add	r0, sp, #48
 1011 007e FFF7FEFF 		bl	snprintf
 1012              	.LVL79:
  72:SampleLibrary.cpp ****         
 1013              		.loc 2 72 9 is_stmt 1 view .LVU274
  72:SampleLibrary.cpp ****         
 1014              		.loc 2 72 29 is_stmt 0 view .LVU275
 1015 0082 0CA9     		add	r1, sp, #48
 1016 0084 D4F80C0C 		ldr	r0, [r4, #3084]
 1017 0088 C822     		movs	r2, #200
 1018 008a FFF7FEFF 		bl	_ZN14DisplayManager11showMessageEPKcm
 1019              	.LVL80:
  75:SampleLibrary.cpp ****             if (loadSampleInfo(filename, sampleCount_)) {
 1020              		.loc 2 75 9 is_stmt 1 view .LVU276
  76:SampleLibrary.cpp ****                 sampleCount_++;
 1021              		.loc 2 76 13 view .LVU277
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 31


  75:SampleLibrary.cpp ****             if (loadSampleInfo(filename, sampleCount_)) {
 1022              		.loc 2 75 13 is_stmt 0 view .LVU278
 1023 008e D4F8002C 		ldr	r2, [r4, #3072]
  76:SampleLibrary.cpp ****                 sampleCount_++;
 1024              		.loc 2 76 31 view .LVU279
 1025 0092 0DF18601 		add	r1, sp, #134
 1026              	.LVL81:
  76:SampleLibrary.cpp ****                 sampleCount_++;
 1027              		.loc 2 76 31 view .LVU280
 1028 0096 2846     		mov	r0, r5
  75:SampleLibrary.cpp ****             if (loadSampleInfo(filename, sampleCount_)) {
 1029              		.loc 2 75 9 view .LVU281
 1030 0098 3F2A     		cmp	r2, #63
 1031 009a 1ADC     		bgt	.L61
 1032              	.LVL82:
  76:SampleLibrary.cpp ****                 sampleCount_++;
 1033              		.loc 2 76 31 view .LVU282
 1034 009c FFF7FEFF 		bl	_ZN13SampleLibrary14loadSampleInfoEPKci
 1035              	.LVL83:
  77:SampleLibrary.cpp ****                 display_.showMessage("Sample loaded", 150);
 1036              		.loc 2 77 17 is_stmt 1 view .LVU283
  80:SampleLibrary.cpp ****             }
 1037              		.loc 2 80 17 view .LVU284
  78:SampleLibrary.cpp ****             } else {
 1038              		.loc 2 78 37 is_stmt 0 view .LVU285
 1039 00a0 9622     		movs	r2, #150
 1040 00a2 2549     		ldr	r1, .L75+28
  76:SampleLibrary.cpp ****                 sampleCount_++;
 1041              		.loc 2 76 13 view .LVU286
 1042 00a4 70B1     		cbz	r0, .L64
  77:SampleLibrary.cpp ****                 display_.showMessage("Sample loaded", 150);
 1043              		.loc 2 77 29 view .LVU287
 1044 00a6 D4F8003C 		ldr	r3, [r4, #3072]
  78:SampleLibrary.cpp ****             } else {
 1045              		.loc 2 78 37 view .LVU288
 1046 00aa D4F80C0C 		ldr	r0, [r4, #3084]
  77:SampleLibrary.cpp ****                 display_.showMessage("Sample loaded", 150);
 1047              		.loc 2 77 29 view .LVU289
 1048 00ae 0133     		adds	r3, r3, #1
 1049 00b0 C4F8003C 		str	r3, [r4, #3072]
  78:SampleLibrary.cpp ****             } else {
 1050              		.loc 2 78 17 is_stmt 1 view .LVU290
  78:SampleLibrary.cpp ****             } else {
 1051              		.loc 2 78 37 is_stmt 0 view .LVU291
 1052 00b4 FFF7FEFF 		bl	_ZN14DisplayManager11showMessageEPKcm
 1053              	.LVL84:
 1054 00b8 C2E7     		b	.L65
 1055              	.LVL85:
 1056              	.L74:
  65:SampleLibrary.cpp ****             continue;  // Not a WAV file
 1057              		.loc 2 65 19 discriminator 1 view .LVU292
 1058 00ba FFF7FEFF 		bl	strstr
 1059              	.LVL86:
  64:SampleLibrary.cpp ****             strstr(filename, ".WAV") == nullptr) {
 1060              		.loc 2 64 49 discriminator 1 view .LVU293
 1061 00be 0028     		cmp	r0, #0
 1062 00c0 D8D1     		bne	.L63
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 32


 1063 00c2 BDE7     		b	.L65
 1064              	.L64:
  80:SampleLibrary.cpp ****             }
 1065              		.loc 2 80 37 view .LVU294
 1066 00c4 C822     		movs	r2, #200
 1067 00c6 1D49     		ldr	r1, .L75+32
 1068 00c8 D4F80C0C 		ldr	r0, [r4, #3084]
 1069 00cc FFF7FEFF 		bl	_ZN14DisplayManager11showMessageEPKcm
 1070              	.LVL87:
 1071 00d0 B6E7     		b	.L65
 1072              	.L61:
  80:SampleLibrary.cpp ****             }
 1073              		.loc 2 80 37 view .LVU295
 1074              	.LBE85:
  89:SampleLibrary.cpp ****     f_closedir(&dir);
 1075              		.loc 2 89 5 is_stmt 1 view .LVU296
  89:SampleLibrary.cpp ****     f_closedir(&dir);
 1076              		.loc 2 89 25 is_stmt 0 view .LVU297
 1077 00d2 4FF49672 		mov	r2, #300
 1078 00d6 1A49     		ldr	r1, .L75+36
 1079 00d8 D4F80C0C 		ldr	r0, [r4, #3084]
 1080 00dc FFF7FEFF 		bl	_ZN14DisplayManager11showMessageEPKcm
 1081              	.LVL88:
  90:SampleLibrary.cpp ****     
 1082              		.loc 2 90 5 is_stmt 1 view .LVU298
  90:SampleLibrary.cpp ****     
 1083              		.loc 2 90 15 is_stmt 0 view .LVU299
 1084 00e0 6846     		mov	r0, sp
 1085 00e2 FFF7FEFF 		bl	f_closedir
 1086              	.LVL89:
  93:SampleLibrary.cpp ****     snprintf(msg, sizeof(msg), "Loaded %d samples", sampleCount_);
 1087              		.loc 2 93 5 is_stmt 1 view .LVU300
  94:SampleLibrary.cpp ****     display_.showMessage(msg, 1000);
 1088              		.loc 2 94 5 view .LVU301
  94:SampleLibrary.cpp ****     display_.showMessage(msg, 1000);
 1089              		.loc 2 94 13 is_stmt 0 view .LVU302
 1090 00e6 D4F8003C 		ldr	r3, [r4, #3072]
 1091 00ea 164A     		ldr	r2, .L75+40
 1092 00ec 4021     		movs	r1, #64
 1093 00ee 0CA8     		add	r0, sp, #48
 1094 00f0 FFF7FEFF 		bl	snprintf
 1095              	.LVL90:
  95:SampleLibrary.cpp ****     
 1096              		.loc 2 95 5 is_stmt 1 view .LVU303
  95:SampleLibrary.cpp ****     
 1097              		.loc 2 95 25 is_stmt 0 view .LVU304
 1098 00f4 D4F80C0C 		ldr	r0, [r4, #3084]
 1099 00f8 4FF47A72 		mov	r2, #1000
 1100 00fc 0CA9     		add	r1, sp, #48
 1101 00fe FFF7FEFF 		bl	_ZN14DisplayManager11showMessageEPKcm
 1102              	.LVL91:
  97:SampleLibrary.cpp **** }
 1103              		.loc 2 97 5 is_stmt 1 view .LVU305
  97:SampleLibrary.cpp **** }
 1104              		.loc 2 97 12 is_stmt 0 view .LVU306
 1105 0102 0120     		movs	r0, #1
  98:SampleLibrary.cpp **** 
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 33


 1106              		.loc 2 98 1 view .LVU307
 1107 0104 63B0     		add	sp, sp, #396
 1108              		.cfi_remember_state
 1109              		.cfi_def_cfa_offset 12
 1110              		@ sp needed
 1111 0106 30BD     		pop	{r4, r5, pc}
 1112              	.LVL92:
 1113              	.L73:
 1114              		.cfi_restore_state
  36:SampleLibrary.cpp ****         return false;  // Failed to open directory
 1115              		.loc 2 36 9 is_stmt 1 view .LVU308
  36:SampleLibrary.cpp ****         return false;  // Failed to open directory
 1116              		.loc 2 36 29 is_stmt 0 view .LVU309
 1117 0108 D4F80C0C 		ldr	r0, [r4, #3084]
 1118 010c 4FF47A72 		mov	r2, #1000
 1119 0110 0D49     		ldr	r1, .L75+44
 1120 0112 FFF7FEFF 		bl	_ZN14DisplayManager11showMessageEPKcm
 1121              	.LVL93:
  37:SampleLibrary.cpp ****     }
 1122              		.loc 2 37 9 is_stmt 1 view .LVU310
  37:SampleLibrary.cpp ****     }
 1123              		.loc 2 37 16 is_stmt 0 view .LVU311
 1124 0116 0020     		movs	r0, #0
  98:SampleLibrary.cpp **** 
 1125              		.loc 2 98 1 view .LVU312
 1126 0118 63B0     		add	sp, sp, #396
 1127              		.cfi_def_cfa_offset 12
 1128              		@ sp needed
 1129 011a 30BD     		pop	{r4, r5, pc}
 1130              	.LVL94:
 1131              	.L76:
  98:SampleLibrary.cpp **** 
 1132              		.loc 2 98 1 view .LVU313
 1133              		.align	2
 1134              	.L75:
 1135 011c 00000000 		.word	.LC7
 1136 0120 18000000 		.word	.LC8
 1137 0124 28000000 		.word	.LC9
 1138 0128 40000000 		.word	.LC11
 1139 012c 54000000 		.word	.LC12
 1140 0130 5C000000 		.word	.LC13
 1141 0134 00000000 		.word	.LC0
 1142 0138 64000000 		.word	.LC14
 1143 013c 74000000 		.word	.LC15
 1144 0140 84000000 		.word	.LC16
 1145 0144 94000000 		.word	.LC17
 1146 0148 2C000000 		.word	.LC10
 1147              		.cfi_endproc
 1148              	.LFE3587:
 1150              		.section	.text._ZN13SampleLibrary14loadSampleDataEi,"ax",%progbits
 1151              		.align	1
 1152              		.p2align 2,,3
 1153              		.global	_ZN13SampleLibrary14loadSampleDataEi
 1154              		.syntax unified
 1155              		.thumb
 1156              		.thumb_func
 1157              		.fpu fpv5-d16
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 34


 1159              	_ZN13SampleLibrary14loadSampleDataEi:
 1160              	.LVL95:
 1161              	.LFB3591:
 159:SampleLibrary.cpp ****     // Check if already loaded
 1162              		.loc 2 159 47 is_stmt 1 view -0
 1163              		.cfi_startproc
 1164              		@ args = 0, pretend = 0, frame = 0
 1165              		@ frame_needed = 0, uses_anonymous_args = 0
 1166              		@ link register save eliminated.
 161:SampleLibrary.cpp ****         return true;  // Already loaded
 1167              		.loc 2 161 5 view .LVU315
 161:SampleLibrary.cpp ****         return true;  // Already loaded
 1168              		.loc 2 161 25 is_stmt 0 view .LVU316
 1169 0000 C1EBC103 		rsb	r3, r1, r1, lsl #3
 1170 0004 00EB0313 		add	r3, r0, r3, lsl #4
 1171 0008 93F86930 		ldrb	r3, [r3, #105]	@ zero_extendqisi2
 161:SampleLibrary.cpp ****         return true;  // Already loaded
 1172              		.loc 2 161 5 view .LVU317
 1173 000c 0BB1     		cbz	r3, .L79
 1174              		.loc 2 208 1 view .LVU318
 1175 000e 1846     		mov	r0, r3
 1176              	.LVL96:
 1177              		.loc 2 208 1 view .LVU319
 1178 0010 7047     		bx	lr
 1179              	.LVL97:
 1180              	.L79:
 1181              		.loc 2 208 1 view .LVU320
 1182 0012 FFF7FEBF 		b	_ZN13SampleLibrary14loadSampleDataEi.part.0
 1183              	.LVL98:
 1184              		.loc 2 208 1 view .LVU321
 1185              		.cfi_endproc
 1186              	.LFE3591:
 1188 0016 00BF     		.section	.text._ZN13SampleLibrary9getSampleEi,"ax",%progbits
 1189              		.align	1
 1190              		.p2align 2,,3
 1191              		.global	_ZN13SampleLibrary9getSampleEi
 1192              		.syntax unified
 1193              		.thumb
 1194              		.thumb_func
 1195              		.fpu fpv5-d16
 1197              	_ZN13SampleLibrary9getSampleEi:
 1198              	.LVL99:
 1199              	.LFB3592:
 209:SampleLibrary.cpp **** 
 210:SampleLibrary.cpp **** SampleInfo* SampleLibrary::getSample(int index) {
 1200              		.loc 2 210 49 is_stmt 1 view -0
 1201              		.cfi_startproc
 1202              		@ args = 0, pretend = 0, frame = 0
 1203              		@ frame_needed = 0, uses_anonymous_args = 0
 1204              		@ link register save eliminated.
 211:SampleLibrary.cpp ****     if (index >= 0 && index < sampleCount_) {
 1205              		.loc 2 211 5 view .LVU323
 1206 0000 0029     		cmp	r1, #0
 1207              		.loc 2 211 5 is_stmt 0 view .LVU324
 1208 0002 0ADB     		blt	.L83
 1209              		.loc 2 211 31 discriminator 1 view .LVU325
 1210 0004 00F58053 		add	r3, r0, #4096
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 35


 1211              		.loc 2 211 20 discriminator 1 view .LVU326
 1212 0008 D3F8003C 		ldr	r3, [r3, #3072]
 1213 000c 8B42     		cmp	r3, r1
 1214 000e 04DD     		ble	.L83
 212:SampleLibrary.cpp ****         return &samples_[index];
 1215              		.loc 2 212 9 is_stmt 1 view .LVU327
 1216              		.loc 2 212 31 is_stmt 0 view .LVU328
 1217 0010 C1EBC101 		rsb	r1, r1, r1, lsl #3
 1218              	.LVL100:
 1219              		.loc 2 212 31 view .LVU329
 1220 0014 00EB0110 		add	r0, r0, r1, lsl #4
 1221              	.LVL101:
 1222              		.loc 2 212 31 view .LVU330
 1223 0018 7047     		bx	lr
 1224              	.LVL102:
 1225              	.L83:
 213:SampleLibrary.cpp ****     }
 214:SampleLibrary.cpp ****     return nullptr;
 1226              		.loc 2 214 12 view .LVU331
 1227 001a 0020     		movs	r0, #0
 1228              	.LVL103:
 215:SampleLibrary.cpp **** }
 1229              		.loc 2 215 1 view .LVU332
 1230 001c 7047     		bx	lr
 1231              		.cfi_endproc
 1232              	.LFE3592:
 1234 001e 00BF     		.section	.text._ZN13SampleLibrary18ensureSampleLoadedEi,"ax",%progbits
 1235              		.align	1
 1236              		.p2align 2,,3
 1237              		.global	_ZN13SampleLibrary18ensureSampleLoadedEi
 1238              		.syntax unified
 1239              		.thumb
 1240              		.thumb_func
 1241              		.fpu fpv5-d16
 1243              	_ZN13SampleLibrary18ensureSampleLoadedEi:
 1244              	.LVL104:
 1245              	.LFB3593:
 216:SampleLibrary.cpp **** 
 217:SampleLibrary.cpp **** bool SampleLibrary::ensureSampleLoaded(int index) {
 1246              		.loc 2 217 51 is_stmt 1 view -0
 1247              		.cfi_startproc
 1248              		@ args = 0, pretend = 0, frame = 0
 1249              		@ frame_needed = 0, uses_anonymous_args = 0
 1250              		@ link register save eliminated.
 218:SampleLibrary.cpp ****     if (index < 0 || index >= sampleCount_) {
 1251              		.loc 2 218 5 view .LVU334
 1252 0000 0B1E     		subs	r3, r1, #0
 1253 0002 17DB     		blt	.L86
 217:SampleLibrary.cpp ****     if (index < 0 || index >= sampleCount_) {
 1254              		.loc 2 217 51 is_stmt 0 discriminator 1 view .LVU335
 1255 0004 10B4     		push	{r4}
 1256              		.cfi_def_cfa_offset 4
 1257              		.cfi_offset 4, -4
 1258              		.loc 2 218 31 discriminator 1 view .LVU336
 1259 0006 00F58054 		add	r4, r0, #4096
 1260              		.loc 2 218 19 discriminator 1 view .LVU337
 1261 000a D4F8004C 		ldr	r4, [r4, #3072]
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 36


 1262 000e 9C42     		cmp	r4, r3
 1263 0010 04DC     		bgt	.L92
 219:SampleLibrary.cpp ****         return false;  // Invalid index
 1264              		.loc 2 219 16 view .LVU338
 1265 0012 0023     		movs	r3, #0
 1266              	.L85:
 220:SampleLibrary.cpp ****     }
 221:SampleLibrary.cpp ****     return loadSampleData(index);
 222:SampleLibrary.cpp **** }
 1267              		.loc 2 222 1 view .LVU339
 1268 0014 1846     		mov	r0, r3
 1269              	.LVL105:
 1270              		.loc 2 222 1 view .LVU340
 1271 0016 5DF8044B 		ldr	r4, [sp], #4
 1272              		.cfi_remember_state
 1273              		.cfi_restore 4
 1274              		.cfi_def_cfa_offset 0
 1275 001a 7047     		bx	lr
 1276              	.LVL106:
 1277              	.L92:
 1278              		.cfi_restore_state
 221:SampleLibrary.cpp **** }
 1279              		.loc 2 221 5 is_stmt 1 view .LVU341
 1280              	.LBB92:
 1281              	.LBI92:
 159:SampleLibrary.cpp ****     // Check if already loaded
 1282              		.loc 2 159 6 view .LVU342
 1283              	.LBB93:
 161:SampleLibrary.cpp ****         return true;  // Already loaded
 1284              		.loc 2 161 5 view .LVU343
 161:SampleLibrary.cpp ****         return true;  // Already loaded
 1285              		.loc 2 161 25 is_stmt 0 view .LVU344
 1286 001c C3EBC303 		rsb	r3, r3, r3, lsl #3
 1287 0020 00EB0313 		add	r3, r0, r3, lsl #4
 1288 0024 93F86930 		ldrb	r3, [r3, #105]	@ zero_extendqisi2
 161:SampleLibrary.cpp ****         return true;  // Already loaded
 1289              		.loc 2 161 5 view .LVU345
 1290 0028 002B     		cmp	r3, #0
 1291 002a F3D1     		bne	.L85
 1292              	.LBE93:
 1293              	.LBE92:
 1294              		.loc 2 222 1 view .LVU346
 1295 002c 5DF8044B 		ldr	r4, [sp], #4
 1296              		.cfi_restore 4
 1297              		.cfi_def_cfa_offset 0
 1298              	.LBB95:
 1299              	.LBB94:
 1300 0030 FFF7FEBF 		b	_ZN13SampleLibrary14loadSampleDataEi.part.0
 1301              	.LVL107:
 1302              	.L86:
 1303              		.loc 2 222 1 view .LVU347
 1304              	.LBE94:
 1305              	.LBE95:
 219:SampleLibrary.cpp ****     }
 1306              		.loc 2 219 16 view .LVU348
 1307 0034 0023     		movs	r3, #0
 1308              		.loc 2 222 1 view .LVU349
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 37


 1309 0036 1846     		mov	r0, r3
 1310              	.LVL108:
 1311              		.loc 2 222 1 view .LVU350
 1312 0038 7047     		bx	lr
 1313              		.cfi_endproc
 1314              	.LFE3593:
 1316 003a 00BF     		.section	.text._ZN13SampleLibrary10findSampleEPKc,"ax",%progbits
 1317              		.align	1
 1318              		.p2align 2,,3
 1319              		.global	_ZN13SampleLibrary10findSampleEPKc
 1320              		.syntax unified
 1321              		.thumb
 1322              		.thumb_func
 1323              		.fpu fpv5-d16
 1325              	_ZN13SampleLibrary10findSampleEPKc:
 1326              	.LVL109:
 1327              	.LFB3594:
 223:SampleLibrary.cpp **** 
 224:SampleLibrary.cpp **** int SampleLibrary::findSample(const char* name) {
 1328              		.loc 2 224 49 is_stmt 1 view -0
 1329              		.cfi_startproc
 1330              		@ args = 0, pretend = 0, frame = 0
 1331              		@ frame_needed = 0, uses_anonymous_args = 0
 225:SampleLibrary.cpp ****     for (int i = 0; i < sampleCount_; i++) {
 1332              		.loc 2 225 5 view .LVU352
 1333              	.LBB96:
 1334              		.loc 2 225 23 view .LVU353
 1335              	.LBE96:
 224:SampleLibrary.cpp ****     for (int i = 0; i < sampleCount_; i++) {
 1336              		.loc 2 224 49 is_stmt 0 view .LVU354
 1337 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1338              		.cfi_def_cfa_offset 24
 1339              		.cfi_offset 3, -24
 1340              		.cfi_offset 4, -20
 1341              		.cfi_offset 5, -16
 1342              		.cfi_offset 6, -12
 1343              		.cfi_offset 7, -8
 1344              		.cfi_offset 14, -4
 1345              	.LBB97:
 1346              		.loc 2 225 25 view .LVU355
 1347 0002 00F58053 		add	r3, r0, #4096
 1348 0006 D3F8007C 		ldr	r7, [r3, #3072]
 1349              		.loc 2 225 23 view .LVU356
 1350 000a 002F     		cmp	r7, #0
 1351 000c 0FDD     		ble	.L96
 1352 000e 0E46     		mov	r6, r1
 1353 0010 0446     		mov	r4, r0
 1354              		.loc 2 225 14 view .LVU357
 1355 0012 0025     		movs	r5, #0
 1356 0014 02E0     		b	.L95
 1357              	.LVL110:
 1358              	.L102:
 1359              		.loc 2 225 5 discriminator 2 view .LVU358
 1360 0016 0135     		adds	r5, r5, #1
 1361              	.LVL111:
 1362              		.loc 2 225 23 is_stmt 1 discriminator 2 view .LVU359
 1363 0018 BD42     		cmp	r5, r7
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 38


 1364 001a 08D0     		beq	.L96
 1365              	.LVL112:
 1366              	.L95:
 226:SampleLibrary.cpp ****         if (strcmp(samples_[i].name, name) == 0) {
 1367              		.loc 2 226 9 view .LVU360
 1368              		.loc 2 226 19 is_stmt 0 view .LVU361
 1369 001c 2046     		mov	r0, r4
 1370 001e 3146     		mov	r1, r6
 225:SampleLibrary.cpp ****     for (int i = 0; i < sampleCount_; i++) {
 1371              		.loc 2 225 23 view .LVU362
 1372 0020 7034     		adds	r4, r4, #112
 1373              		.loc 2 226 19 view .LVU363
 1374 0022 FFF7FEFF 		bl	strcmp
 1375              	.LVL113:
 225:SampleLibrary.cpp ****     for (int i = 0; i < sampleCount_; i++) {
 1376              		.loc 2 225 5 is_stmt 1 view .LVU364
 1377              		.loc 2 226 9 is_stmt 0 view .LVU365
 1378 0026 0028     		cmp	r0, #0
 1379 0028 F5D1     		bne	.L102
 1380              	.LBE97:
 227:SampleLibrary.cpp ****             return i;  // Found it!
 228:SampleLibrary.cpp ****         }
 229:SampleLibrary.cpp ****     }
 230:SampleLibrary.cpp ****     return -1;  // Not found
 231:SampleLibrary.cpp **** }
 1381              		.loc 2 231 1 view .LVU366
 1382 002a 2846     		mov	r0, r5
 1383 002c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1384              	.LVL114:
 1385              	.L96:
 230:SampleLibrary.cpp **** }
 1386              		.loc 2 230 13 view .LVU367
 1387 002e 4FF0FF35 		mov	r5, #-1
 1388              		.loc 2 231 1 view .LVU368
 1389 0032 2846     		mov	r0, r5
 1390 0034 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1391              		.cfi_endproc
 1392              	.LFE3594:
 1394              		.weak	_ZTV16MemoryDataSource
 1395 0036 00BF     		.section	.rodata._ZTV16MemoryDataSource,"aG",%progbits,_ZTV16MemoryDataSource,comdat
 1396              		.align	2
 1399              	_ZTV16MemoryDataSource:
 1400 0000 00000000 		.word	0
 1401 0004 00000000 		.word	0
 1402 0008 00000000 		.word	_ZN16MemoryDataSource5ftellEv
 1403 000c 00000000 		.word	_ZN16MemoryDataSource5freadEPvjj
 1404 0010 00000000 		.word	_ZN16MemoryDataSource5fseekEli
 1405              		.text
 1406              	.Letext0:
 1407              		.file 4 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\machine\\_default_types.h"
 1408              		.file 5 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\sys\\_stdint.h"
 1409              		.file 6 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\stdint.h"
 1410              		.file 7 "c:\\program files\\daisytoolchain\\lib\\gcc\\arm-none-eabi\\10.2.1\\include\\stddef.h"
 1411              		.file 8 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\cmath"
 1412              		.file 9 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\bits\\std_abs.h"
 1413              		.file 10 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\arm-none-eabi\\t
 1414              		.file 11 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\type_traits"
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 39


 1415              		.file 12 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\debug\\debug.h"
 1416              		.file 13 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\bits\\stl_pair.h
 1417              		.file 14 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\bits\\exception_
 1418              		.file 15 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\cstdlib"
 1419              		.file 16 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\cstdint"
 1420              		.file 17 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\bits\\algorithmf
 1421              		.file 18 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\initializer_list
 1422              		.file 19 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\cstdarg"
 1423              		.file 20 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\cstdio"
 1424              		.file 21 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\cstring"
 1425              		.file 22 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\cwchar"
 1426              		.file 23 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\clocale"
 1427              		.file 24 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\bits\\basic_stri
 1428              		.file 25 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\bits\\predefined
 1429              		.file 26 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\sys\\_types.h"
 1430              		.file 27 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\sys\\reent.h"
 1431              		.file 28 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\sys\\lock.h"
 1432              		.file 29 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\math.h"
 1433              		.file 30 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\stdlib.h"
 1434              		.file 31 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\math.h"
 1435              		.file 32 "c:\\program files\\daisytoolchain\\lib\\gcc\\arm-none-eabi\\10.2.1\\include\\stdarg.h"
 1436              		.file 33 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\stdio.h"
 1437              		.file 34 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\c++\\10.2.1\\stdlib.h"
 1438              		.file 35 "../../libDaisy//src/daisy_core.h"
 1439              		.file 36 "../../libDaisy//src/per/tim.h"
 1440              		.file 37 "../../libDaisy//src/sys/system.h"
 1441              		.file 38 "../../libDaisy//src/per/qspi.h"
 1442              		.file 39 "../../libDaisy//src/per/dac.h"
 1443              		.file 40 "../../libDaisy//src/per/sai.h"
 1444              		.file 41 "../../libDaisy//src/hid/audio.h"
 1445              		.file 42 "../../libDaisy//src/per/adc.h"
 1446              		.file 43 "../../libDaisy//src/per/uart.h"
 1447              		.file 44 "../../libDaisy//src/hid/MidiEvent.h"
 1448              		.file 45 "../../libDaisy//src/hid/midi_parser.h"
 1449              		.file 46 "../../libDaisy//src/hid/usb.h"
 1450              		.file 47 "../../libDaisy//src/hid/midi.h"
 1451              		.file 48 "../../libDaisy//src/util/FIFO.h"
 1452              		.file 49 "../../libDaisy//src/hid/switch.h"
 1453              		.file 50 "../../libDaisy//src/hid/encoder.h"
 1454              		.file 51 "../../libDaisy//src/hid/ctrl.h"
 1455              		.file 52 "../../libDaisy//src/per/sdmmc.h"
 1456              		.file 53 "../../libDaisy//src/util/wav_format.h"
 1457              		.file 54 "../../libDaisy//src/hid/led.h"
 1458              		.file 55 "../../libDaisy//src/util/color.h"
 1459              		.file 56 "../../libDaisy//src/hid/rgb_led.h"
 1460              		.file 57 "../../libDaisy//src/dev/max11300.h"
 1461              		.file 58 "../../libDaisy//src/sys/fatfs.h"
 1462              		.file 59 "../../libDaisy//src/daisy_seed.h"
 1463              		.file 60 "../../libDaisy//src/daisy_pod.h"
 1464              		.file 61 "../../libDaisy//src/per/gpio.h"
 1465              		.file 62 "../../libDaisy//src/dev/sdram.h"
 1466              		.file 63 "../../libDaisy//src/util/oled_fonts.h"
 1467              		.file 64 "../../libDaisy//Middlewares/Third_Party/FatFs/src/integer.h"
 1468              		.file 65 "../../libDaisy//Middlewares/Third_Party/FatFs/src/ff.h"
 1469              		.file 66 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\string.h"
 1470              		.file 67 "DisplayManager.h"
 1471              		.file 68 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\wchar.h"
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 40


 1472              		.file 69 "c:\\program files\\daisytoolchain\\arm-none-eabi\\include\\locale.h"
 1473              		.file 70 "../../libDaisy//src/dev/sr_595.h"
 1474              		.file 71 "<built-in>"
ARM GAS  C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s 			page 41


DEFINED SYMBOLS
                            *ABS*:00000000 SampleLibrary.cpp
C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s:17     .text._ZN16MemoryDataSource5ftellEv:00000000 $t
C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s:26     .text._ZN16MemoryDataSource5ftellEv:00000000 _ZN16MemoryDataSource5ftellEv
C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s:45     .text._ZN16MemoryDataSource5freadEPvjj:00000000 $t
C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s:53     .text._ZN16MemoryDataSource5freadEPvjj:00000000 _ZN16MemoryDataSource5freadEPvjj
C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s:159    .text._ZN16MemoryDataSource5fseekEli:00000000 $t
C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s:167    .text._ZN16MemoryDataSource5fseekEli:00000000 _ZN16MemoryDataSource5fseekEli
C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s:232    .rodata._ZN13SampleLibrary14loadSampleDataEi.part.0.str1.4:00000000 $d
C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s:236    .text._ZN13SampleLibrary14loadSampleDataEi.part.0:00000000 $t
C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s:243    .text._ZN13SampleLibrary14loadSampleDataEi.part.0:00000000 _ZN13SampleLibrary14loadSampleDataEi.part.0
C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s:410    .text._ZN13SampleLibrary14loadSampleDataEi.part.0:0000009c $d
C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s:415    .text._ZN13SampleLibraryC2ERN5daisy12SdmmcHandlerERNS0_14FatFSInterfaceER14DisplayManager:00000000 $t
C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s:423    .text._ZN13SampleLibraryC2ERN5daisy12SdmmcHandlerERNS0_14FatFSInterfaceER14DisplayManager:00000000 _ZN13SampleLibraryC2ERN5daisy12SdmmcHandlerERNS0_14FatFSInterfaceER14DisplayManager
C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s:553    .text._ZN13SampleLibraryC2ERN5daisy12SdmmcHandlerERNS0_14FatFSInterfaceER14DisplayManager:00000060 $d
C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s:1399   .rodata._ZTV16MemoryDataSource:00000000 _ZTV16MemoryDataSource
C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s:423    .text._ZN13SampleLibraryC2ERN5daisy12SdmmcHandlerERNS0_14FatFSInterfaceER14DisplayManager:00000000 _ZN13SampleLibraryC1ERN5daisy12SdmmcHandlerERNS0_14FatFSInterfaceER14DisplayManager
C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s:560    .rodata._ZN13SampleLibrary14loadSampleInfoEPKci.str1.4:00000000 $d
C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s:579    .text._ZN13SampleLibrary14loadSampleInfoEPKci:00000000 $t
C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s:587    .text._ZN13SampleLibrary14loadSampleInfoEPKci:00000000 _ZN13SampleLibrary14loadSampleInfoEPKci
C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s:846    .text._ZN13SampleLibrary14loadSampleInfoEPKci:00000100 $d
C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s:856    .rodata._ZN13SampleLibrary4initEv.str1.4:00000000 $d
C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s:890    .text._ZN13SampleLibrary4initEv:00000000 $t
C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s:898    .text._ZN13SampleLibrary4initEv:00000000 _ZN13SampleLibrary4initEv
C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s:1135   .text._ZN13SampleLibrary4initEv:0000011c $d
C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s:1151   .text._ZN13SampleLibrary14loadSampleDataEi:00000000 $t
C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s:1159   .text._ZN13SampleLibrary14loadSampleDataEi:00000000 _ZN13SampleLibrary14loadSampleDataEi
C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s:1189   .text._ZN13SampleLibrary9getSampleEi:00000000 $t
C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s:1197   .text._ZN13SampleLibrary9getSampleEi:00000000 _ZN13SampleLibrary9getSampleEi
C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s:1235   .text._ZN13SampleLibrary18ensureSampleLoadedEi:00000000 $t
C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s:1243   .text._ZN13SampleLibrary18ensureSampleLoadedEi:00000000 _ZN13SampleLibrary18ensureSampleLoadedEi
C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s:1317   .text._ZN13SampleLibrary10findSampleEPKc:00000000 $t
C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s:1325   .text._ZN13SampleLibrary10findSampleEPKc:00000000 _ZN13SampleLibrary10findSampleEPKc
C:\Users\halcyon\AppData\Local\Temp\cc1KvRBd.s:1396   .rodata._ZTV16MemoryDataSource:00000000 $d

UNDEFINED SYMBOLS
snprintf
_ZN14DisplayManager11showMessageEPKcm
f_open
_Z20custom_pool_allocatej
f_read
f_close
_ZN13b3ReadWavFile10getWavInfoER12b3DataSource
_ZN13b3ReadWavFileC1Ev
strncpy
f_opendir
f_readdir
strstr
f_closedir
strcmp
